webpackJsonp([2],[,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){if(!t(e))throw d("error","uncaught at check",n),new Error(n)}function a(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=f({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function c(e){for(var t=[],n=0;n<e;n++)t.push(i());return t}function s(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[y]=function(){return clearTimeout(n)},r}function u(){var e,t=!0,n=void 0,o=void 0;return e={},r(e,v,!0),r(e,"isRunning",function(){return t}),r(e,"result",function(){return n}),r(e,"error",function(){return o}),r(e,"setRunning",function(e){return t=e}),r(e,"setResult",function(e){return n=e}),r(e,"setError",function(e){return o=e}),e}function l(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return function(){return++e}}function p(e){var t=arguments.length<=1||void 0===arguments[1]?w:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],r={name:n,next:e,throw:t,return:_};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function d(e,t,n){"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e].call(console,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.check=o,t.remove=a,t.deferred=i,t.arrayOfDeffered=c,t.delay=s,t.createMockTask=u,t.autoInc=l,t.makeIterator=p,t.log=d;var h=t.sym=function(e){return"@@redux-saga/"+e},v=t.TASK=h("TASK"),y=(t.MATCH=h("MATCH"),t.CANCEL=h("cancelPromise")),b=t.konst=function(e){return function(){return e}},g=(t.kTrue=b(!0),t.kFalse=b(!1),t.noop=function(){},t.ident=function(e){return e},t.is={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},array:Array.isArray,promise:function(e){return e&&g.func(e.then)},iterator:function(e){return e&&g.func(e.next)&&g.func(e.throw)},task:function(e){return e&&e[v]},take:function(e){return e&&g.func(e.take)},put:function(e){return e&&g.func(e.put)},observable:function(e){return e&&g.func(e.subscribe)},buffer:function(e){return e&&g.func(e.isEmpty)&&g.func(e.take)&&g.func(e.put)},pattern:function(e){return e&&("string"==typeof e||"symbol"===(void 0===e?"undefined":m(e))||g.func(e)||g.array(e))}}),w=function(e){throw e},_=function(e){return{value:e,done:!0}};t.internalErr=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsisten state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")}},,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(183),a=r(o),i=n(184),c=r(i);t.Provider=a.default,t.connect=c.default},,function(e,t,n){"use strict";var r=n(118),o=n.n(r),a=n(102),i=n(75),c=n.n(i),s=window,u=s.localStorage,l=s.confirm,p=s.alert,d=s.MB,f=s.MBLocale,m=s.I18N,h=s.Team,v=s.Project,y=s.Combo,b=s.Template,g=s.Screen,w=s.Collaborator,_=s.Comment,E=s.CommentThread,S=s.$;"zh-CN"===f&&c()(o.a.settings.strings,a.a);var k=window,C=u,M={MBLocale:f,parseTimeAgo:function(e){return o()(e)}},T={Team:h,Project:v,Combo:y,Template:b,Screen:g,Collaborator:w,Comment:_,CommentThread:E,requestCid:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.uuid(10,16)+Date.now()},queueSave:function(){return S("body").trigger("queue:save")}};t.a={Global:k,Storage:C,confirm:function(){return l.apply(void 0,arguments)},alert:function(){return p.apply(void 0,arguments)},MB:d,I18N:m,L10N:M,SpineModel:T}},,,,,function(e,t,n){"use strict";var r=n(20),o=n(119),a=(n(122),n(241));n.d(t,"a",function(){return r.a}),n.d(t,"c",function(){return o.a}),n.d(t,"b",function(){return a.a})},,,function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(46);e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function r(){function e(e){return n.push(e),function(){return(0,i.remove)(n,e)}}function t(e){for(var t=n.slice(),r=0,o=t.length;r<o;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function o(e){function t(){if(a&&u.length)throw(0,i.internalErr)("Cannot have a closed channel with pending takers");if(u.length&&!e.isEmpty())throw(0,i.internalErr)("Cannot have pending takers with non empty buffer")}function n(n){if(t(),(0,i.check)(n,i.is.notUndef,p),!a)if(u.length)for(var r=0;r<u.length;r++){var o=u[r];if(!o[i.MATCH]||o[i.MATCH](n))return u.splice(r,1),o(n)}else e.put(n)}function r(n,r){t(),(0,i.check)(n,i.is.func,"channel.take's callback must be a function"),arguments.length>1&&((0,i.check)(r,i.is.func,"channel.take's matcher argument must be a function"),n[i.MATCH]=r),a&&e.isEmpty()?n(s):e.isEmpty()?(u.push(n),n.cancel=function(){return(0,i.remove)(u,n)}):n(e.take())}function o(){if(t(),!a&&(a=!0,u.length)){var e=u;u=[];for(var n=0,r=e.length;n<r;n++)e[n](s);u=[]}}var a=!1,u=[];return arguments.length>0?(0,i.check)(e,i.is.buffer,l):e=c.buffers.fixed(),{take:r,put:n,close:o,get __takers__(){return u},get __closed__(){return a}}}function a(e){var t=arguments.length<=1||void 0===arguments[1]?c.buffers.none():arguments[1],n=arguments[2];arguments.length>2&&(0,i.check)(n,i.is.func,"Invalid match function passed to eventChannel");var r=o(t),a=e(function(e){u(e)?r.close():n&&!n(e)||r.put(e)});if(!i.is.func(a))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,close:function(){r.__closed__||(r.close(),a())}}}Object.defineProperty(t,"__esModule",{value:!0}),t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=void 0,t.emitter=r,t.channel=o,t.eventChannel=a;var i=n(8),c=n(48),s=t.END={type:"@@redux-saga/CHANNEL_END"},u=t.isEnd=function(e){return e&&"@@redux-saga/CHANNEL_END"===e.type},l=t.INVALID_BUFFER="invalid buffer passed to channel factory function",p=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(arguments.length>=2)(0,w.check)(e,w.is.notUndef,"take(channel, pattern): channel is undefined"),(0,w.check)(e,w.is.take,"take(channel, pattern): argument "+String(e)+" is not a valid channel (channel argument must have a take method)"),(0,w.check)(t,w.is.notUndef,"take(channel, pattern): pattern is undefined"),(0,w.check)(t,w.is.pattern,"take(channel, pattern): argument "+String(t)+" is not a valid pattern (pattern must be String | Function: a => boolean | Array<String>)");else if(1===arguments.length)if((0,w.check)(e,w.is.notUndef,"take(patternOrChannel): undefined argument"),w.is.take(e))t="*";else{if(!w.is.pattern(e))throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern");t=e,e=null}else t="*";return N(E,{channel:e,pattern:t})}function a(){var e=o.apply(void 0,arguments);return e[E].maybe=!0,e}function i(e,t){return arguments.length>1?((0,w.check)(e,w.is.notUndef,"put(channel, action): argument channel is undefined"),(0,w.check)(e,w.is.put,"put(channel, action): argument "+e+" is not a valid channel (channel argument must have a put method)"),(0,w.check)(t,w.is.notUndef,"put(channel, action): argument action is undefined")):((0,w.check)(e,w.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),N(S,{channel:e,action:t})}function c(e){return N(k,e)}function s(e,t,n){(0,w.check)(t,w.is.notUndef,e+": argument fn is undefined");var r=null;if(w.is.array(t)){var o=t,a=g(o,2);r=a[0],t=a[1]}else if(t.fn){var i=t;r=i.context,t=i.fn}return(0,w.check)(t,w.is.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(C,s("call",e,n))}function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return N(C,s("apply",{context:e,fn:t},n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(M,s("cps",e,n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(T,s("fork",e,n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=d.apply(void 0,[e].concat(n));return o[T].detached=!0,o}function m(e){if((0,w.check)(e,w.is.notUndef,"join(task): argument task is undefined"),!I(e))throw new Error("join(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(x,e)}function h(e){if((0,w.check)(e,w.is.notUndef,"cancel(task): argument task is undefined"),!I(e))throw new Error("cancel(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(j,e)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=w.ident:((0,w.check)(v,w.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,w.check)(e,w.is.func,"select(selector,[...]): argument "+e+" is not a function")),N(P,{selector:e,args:n})}function y(e,t){return(0,w.check)(e,w.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&((0,w.check)(t,w.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,w.check)(t,w.is.notUndef,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),N(O,{pattern:e,buffer:t})}function b(){return N(R,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.asEffect=void 0;var g=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.take=o,t.takem=a,t.put=i,t.race=c,t.call=u,t.apply=l,t.cps=p,t.fork=d,t.spawn=f,t.join=m,t.cancel=h,t.select=v,t.actionChannel=y,t.cancelled=b;var w=n(8),_=(0,w.sym)("IO"),E="TAKE",S="PUT",k="RACE",C="CALL",M="CPS",T="FORK",x="JOIN",j="CANCEL",P="SELECT",O="ACTION_CHANNEL",R="CANCELLED",N=function(e,t){var n;return n={},r(n,_,!0),r(n,e,t),n};i.sync=function(){var e=i.apply(void 0,arguments);return e[S].sync=!0,e};var I=function(e){return e[w.TASK]};t.asEffect={take:function(e){return e&&e[_]&&e[E]},put:function(e){return e&&e[_]&&e[S]},race:function(e){return e&&e[_]&&e[k]},call:function(e){return e&&e[_]&&e[C]},cps:function(e){return e&&e[_]&&e[M]},fork:function(e){return e&&e[_]&&e[T]},join:function(e){return e&&e[_]&&e[x]},cancel:function(e){return e&&e[_]&&e[j]},select:function(e){return e&&e[_]&&e[P]},actionChannel:function(e){return e&&e[_]&&e[O]},cancelled:function(e){return e&&e[_]&&e[R]}}},,,,,,function(e,t){e.exports={comment_panel_content_slide_panel:"cdCB0v1eGxS5oNLHn9T30",comment_panel_content_slide_panel_hide:"raq6EeyldI3xd5W9zfRzK",comment_thread:"_1i8Z85KOvvSrIbrqqcnPEd",comment_thread_flex:"_2sXPqC_jFTSG3KPbIDQ5GU",comment_comment:"uQ-c88aXgjreJdJc4LvdD",comment_comment_clickable:"_1RUyd48PPeb9XJuF8E0vMU",comment_comment_thread_initial:"_1kGkvoj3enlLVQsW-QTNpU",comment_comment_thread_initial_focus:"_2rUo_NxZ7lclcRYJOMXCuO",comment_comment_upper:"rRfuU6aX-po_l7ojQsiLU",comment_comment_user_initial:"_1_bARpX8joYCwR1CGexHc2",comment_comment_appending:"_3esC1zDa7PS5n800oqL1Da",comment_comment_content:"_3-90N53XCl5M7Y5Uc65kFV",comment_comment_content_folded:"EQhSqR85gBTQGipJZFd0m",comment_comment_lower:"_1ecTARquN9wbeDn0gzUcMY",comment_marker:"_2_1yU0Ib0Q9o6HwBHd5oQ4",comment_marker_locked:"_3vbeNA38a96li2xuQhvBnz",comment_marker_focus:"_3ANilwWSBVX3BBg3RS75YS",comment_marker_fade:"RNI5cPT6YqPC66ZrYciRp",comment_marker_mini:"_2w2OVrQvBLyEYF2-eliaFi",comment_marker_panel:"_7xddH_mkQOHPAC_b0cpj",editable_span:"NDp6m4mZd9LTrY6M5P_rr",reply_textarea:"sgYm0tKDzFiaQWp_KuCnY"}},,,,,,,,function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(156);e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},,function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?10:arguments[0],t=arguments[1],n=new Array(e),r=0,o=0,s=0;return{isEmpty:function(){return 0==r},put:function(u){if(r<e)n[o]=u,o=(o+1)%e,r++;else switch(t){case i:throw new Error(a);case c:n[o]=u,o=(o+1)%e,s=o}},take:function(){if(0!=r){var t=n[s];return n[s]=null,r--,s=(s+1)%e,t}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.buffers=t.BUFFER_OVERFLOW=void 0;var o=n(8),a=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",i=1,c=3,s={isEmpty:o.kTrue,put:o.noop,take:o.noop};t.buffers={none:function(){return s},fixed:function(e){return r(e,i)},dropping:function(e){return r(e,2)},sliding:function(e){return r(e,c)}}},,,,function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(82),o=n(201),a=n(200),i=n(199),c=n(81);n(83);n.d(t,"createStore",function(){return r.a}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return a.a}),n.d(t,"applyMiddleware",function(){return i.a}),n.d(t,"compose",function(){return c.a})},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(!n.i(i.a)(e)||n.i(o.a)(e)!=c)return!1;var t=n.i(a.a)(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}var o=n(138),a=n(139),i=n(141),c="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,p=u.hasOwnProperty,d=l.call(Object);t.a=r},function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n(45),a=n(46);e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){var r=n(167),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){var r=n(157),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t,n){function r(e){if(!a(e))return!1;var t=o(e);return t==c||t==s||t==i||t==u}var o=n(69),a=n(29),i="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){if(!i(e)||o(e)!=c)return!1;var t=a(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(69),a=n(70),i=n(73),c="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,p=u.hasOwnProperty,d=l.call(Object);e.exports=r},function(e,t,n){var r=n(148),o=n(99),a=o(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.repeat=function(e,t){return new Array(t+1).join(e)},o=t.pad=function(e,t){return r("0",t-e.toString().length)+e};t.formatTime=function(e){return o(e.getHours(),2)+":"+o(e.getMinutes(),2)+":"+o(e.getSeconds(),2)+"."+o(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){"use strict";function r(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return("*"===e?w.wildcard:u.is.array(e)?w.array:u.is.func(e)?w.predicate:w.default)(e)}function c(e,t,n){function r(e){a(),n(e,!0)}function o(e){i.push(e),e.cont=function(o,a){s||((0,u.remove)(i,e),e.cont=u.noop,a?r(o):(e===t&&(c=o),i.length||(s=!0,n(c))))}}function a(){s||(s=!0,i.forEach(function(e){e.cont=u.noop,e.cancel()}),i=[])}var i=[],c=void 0,s=!1;return o(t),{addTask:o,cancelAll:a,abort:r,getTasks:function(){return i},taskNames:function(){return i.map(function(e){return e.name})}}}function s(e){function t(){z.isRunning&&!z.isCancelled&&(z.isCancelled=!0,l(g))}function n(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,G.cancelAll(),w(g))}function l(t,n){if(!z.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=e.throw(t):t===g?(z.isCancelled=!0,l.cancel(),r=u.is.func(e.return)?e.return(g):{done:!0,value:g}):r=t===b?u.is.func(e.return)?e.return():{done:!0}:e.next(t),r.done?(z.isMainRunning=!1,z.cont&&z.cont(r.value)):_(r.value,B,"",l)}catch(e){z.isCancelled&&K("error","uncaught at "+q,e.message),z.isMainRunning=!1,z.cont(e,!0)}}function w(t,n){e._isRunning=!1,X.close(),n?(t instanceof Error&&(t.sagaStack="at "+q+" \n "+(t.sagaStack||t.stack)),Y.cont||K("error","uncaught",t.sagaStack||t.stack),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(t===g&&h&&K("info",q+" has been cancelled",""),e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),Y.cont&&Y.cont(t,n),Y.joiners.forEach(function(e){return e.cb(t,n)}),Y.joiners=null}function _(e,t){function n(e,t){i||(i=!0,o.cancel=u.noop,V&&(t?V.effectRejected(a,e):V.effectResolved(a,e)),o(e,t))}var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],o=arguments[3],a=y();V&&V.effectTriggered({effectId:a,parentEffectId:t,label:r,effect:e});var i=void 0;n.cancel=u.noop,o.cancel=function(){if(!i){i=!0;try{n.cancel()}catch(e){K("error","uncaught at "+q,e.message)}n.cancel=u.noop,V&&V.effectCancelled(a)}};var c=void 0;return u.is.promise(e)?E(e,n):u.is.iterator(e)?S(e,a,q,n):u.is.array(e)?O(e,a,n):u.is.notUndef(c=d.asEffect.take(e))?k(c,n):u.is.notUndef(c=d.asEffect.put(e))?C(c,n):u.is.notUndef(c=d.asEffect.race(e))?R(c,a,n):u.is.notUndef(c=d.asEffect.call(e))?M(c,a,n):u.is.notUndef(c=d.asEffect.cps(e))?T(c,n):u.is.notUndef(c=d.asEffect.fork(e))?x(c,a,n):u.is.notUndef(c=d.asEffect.join(e))?j(c,n):u.is.notUndef(c=d.asEffect.cancel(e))?P(c,n):u.is.notUndef(c=d.asEffect.select(e))?N(c,n):u.is.notUndef(c=d.asEffect.actionChannel(e))?I(c,n):u.is.notUndef(c=d.asEffect.cancelled(e))?L(c,n):n(e)}function E(e,t){var n=e[u.CANCEL];"function"==typeof n&&(t.cancel=n),e.then(t,function(e){return t(e,!0)})}function S(e,t,n,r){s(e,A,D,U,F,t,n,r)}function k(e,t){var n=e.channel,r=e.pattern,o=e.maybe;n=n||X;var a=function(e){return e instanceof Error?t(e,!0):t((0,f.isEnd)(e)&&!o?b:e)};try{n.take(a,i(r))}catch(e){return t(e,!0)}t.cancel=a.cancel}function C(e,t){var n=e.channel,r=e.action,o=e.sync;(0,p.default)(function(){var e=void 0;try{e=(n?n.put:D)(r)}catch(e){return t(e,!0)}if(!o||!u.is.promise(e))return t(e);E(e,t)})}function M(e,t,n){var r=e.context,o=e.fn,a=e.args,i=void 0;try{i=o.apply(r,a)}catch(e){return n(e,!0)}return u.is.promise(i)?E(i,n):u.is.iterator(i)?S(i,t,o.name,n):n(i)}function T(e,t){var n=e.context,r=e.fn,o=e.args;try{r.apply(n,o.concat(function(e,n){return u.is.undef(e)?t(n):t(e,!0)}))}catch(e){return t(e,!0)}}function x(e,t,n){var r=e.context,o=e.fn,a=e.args,i=e.detached,c=void 0,l=void 0,d=void 0;try{c=o.apply(r,a)}catch(e){l=e}d=u.is.iterator(c)?c:l?(0,u.makeIterator)(function(){throw l}):(0,u.makeIterator)(function(){var e=void 0,t={done:!1,value:c},n=function(e){return{done:!0,value:e}};return function(r){return e?n(r):(e=!0,t)}}()),p.default.suspend();var f=s(d,A,D,U,F,t,o.name,i?null:u.noop);i?n(f):d._isRunning?(G.addTask(f),n(f)):d._error?G.abort(d._error):n(f),p.default.flush()}function j(e,t){e.isRunning()?function(){var n={task:Y,cb:t};t.cancel=function(){return(0,u.remove)(e.joiners,n)},e.joiners.push(n)}():e.isAborted()?t(e.error(),!0):t(e.result())}function P(e,t){e.isRunning()&&e.cancel(),t()}function O(e,t,n){function r(){o===i.length&&(a=!0,n(i))}if(!e.length)return n([]);var o=0,a=void 0,i=Array(e.length),c=e.map(function(e,t){var c=function(e,c){a||(c||(0,f.isEnd)(e)||e===b||e===g?(n.cancel(),n(e,c)):(i[t]=e,o++,r()))};return c.cancel=u.noop,c});n.cancel=function(){a||(a=!0,c.forEach(function(e){return e.cancel()}))},e.forEach(function(e,n){return _(e,t,n,c[n])})}function R(e,t,n){var r=void 0,o=Object.keys(e),i={};o.forEach(function(e){var t=function(t,o){r||(o?(n.cancel(),n(t,!0)):(0,f.isEnd)(t)||t===b||t===g||(n.cancel(),r=!0,n(a({},e,t))))};t.cancel=u.noop,i[e]=t}),n.cancel=function(){r||(r=!0,o.forEach(function(e){return i[e].cancel()}))},o.forEach(function(n){return _(e[n],t,n,i[n])})}function N(e,t){var n=e.selector,r=e.args;try{var a=n.apply(void 0,[U()].concat(o(r)));t(a)}catch(e){t(e,!0)}}function I(e,t){var n=e.pattern,r=e.buffer,o=i(n);o.pattern=n,t((0,f.eventChannel)(A,r||m.buffers.fixed(),o))}function L(e,t){t(!!z.isCancelled)}var A=arguments.length<=1||void 0===arguments[1]?function(){return u.noop}:arguments[1],D=arguments.length<=2||void 0===arguments[2]?u.noop:arguments[2],U=arguments.length<=3||void 0===arguments[3]?u.noop:arguments[3],F=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],B=arguments.length<=5||void 0===arguments[5]?0:arguments[5],q=arguments.length<=6||void 0===arguments[6]?"anonymous":arguments[6],H=arguments[7];(0,u.check)(e,u.is.iterator,v);var V=F.sagaMonitor,W=F.logger,K=W||u.log,X=(0,f.eventChannel)(A);l.cancel=u.noop;var Y=function(e,t,o,i){var c,s,l;return o._deferredEnd=null,s={},a(s,u.TASK,!0),a(s,"id",e),a(s,"name",t),c="done",l={},l[c]=l[c]||{},l[c].get=function(){if(o._deferredEnd)return o._deferredEnd.promise;var e=(0,u.deferred)();return o._deferredEnd=e,o._isRunning||(o._error?e.reject(o._error):e.resolve(o._result)),e.promise},a(s,"cont",i),a(s,"joiners",[]),a(s,"cancel",n),a(s,"isRunning",function(){return o._isRunning}),a(s,"isCancelled",function(){return o._isCancelled}),a(s,"isAborted",function(){return o._isAborted}),a(s,"result",function(){return o._result}),a(s,"error",function(){return o._error}),r(s,l),s}(B,q,e,H),z={name:q,cancel:t,isRunning:!0},G=c(q,z,w);return H&&(H.cancel=n),e._isRunning=!0,l(),Y}Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=void 0,t.default=s;var u=n(8),l=n(193),p=function(e){return e&&e.__esModule?e:{default:e}}(l),d=n(31),f=n(30),m=n(48),h=!1,v=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",y=(0,u.autoInc)(),b=t.CHANNEL_END={toString:function(){return"@@redux-saga/CHANNEL_END"}},g=t.TASK_CANCEL={toString:function(){return"@@redux-saga/TASK_CANCEL"}},w={wildcard:function(){return u.kTrue},default:function(e){return function(t){return t.type===e}},array:function(e){return function(t){return e.some(function(e){return e===t.type})}},predicate:function(e){return function(t){return e(t)}}}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.a=r},function(e,t,n){"use strict";function r(e,t,a){function s(){b===y&&(b=y.slice())}function u(){return v}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),b.push(e),function(){if(t){t=!1,s();var n=b.indexOf(e);b.splice(n,1)}}}function p(e){if(!n.i(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,v=h(v,e)}finally{g=!1}for(var t=y=b,r=0;r<t.length;r++)t[r]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,p({type:c.INIT})}function f(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[i.a]=function(){return this},e}var m;if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error("Expected the enhancer to be a function.");return a(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,v=t,y=[],b=y,g=!1;return p({type:c.INIT}),m={dispatch:p,subscribe:l,getState:u,replaceReducer:d},m[i.a]=f,m}var o=n(67),a=n(202),i=n.n(a);n.d(t,"b",function(){return c}),t.a=r;var c={INIT:"@@redux/INIT"}},function(e,t,n){"use strict"},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(37),u=n.n(s);n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.isFocused=!1,a.spanRef=null,a}return a(t,e),t.prototype.componentDidUpdate=function(){var e=this.props,t=e.isFocus,n=e.focusType,r=e.dispatch;r&&t&&!this.isFocused&&r({type:"entry:focus-element",payload:{focusType:n,element:this.spanRef}}),this.isFocused=t},t.prototype.render=function(){var e=this,t=this.props,n=t.index,r=t.isFocus,o=t.isFade,a=t.isEditable,i=t.divAttributes,s=t.spanAttributes,p=r?u.a.comment_marker_focus:!r&&o?u.a.comment_marker_fade:"";return c.a.createElement("div",l({className:[u.a.comment_marker,p,a?"":u.a.comment_marker_locked].join(" ")},i),c.a.createElement("span",l({ref:function(t){return e.spanRef=t},tabIndex:n},s),n))},t}(c.a.Component);p.propTypes={index:c.a.PropTypes.number,isFocus:c.a.PropTypes.bool,isFade:c.a.PropTypes.bool,isEditable:c.a.PropTypes.bool,divAttributes:c.a.PropTypes.object,spanAttributes:c.a.PropTypes.object,focusType:c.a.PropTypes.string,dispatch:c.a.PropTypes.func};var d=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.index,r=t.isFocus,o=t.isFade,a=!r&&o?u.a.comment_marker_fade:"";return c.a.createElement("div",{className:[u.a.comment_marker,u.a.comment_marker_mini,a].join(" ")},c.a.createElement("span",{ref:function(t){return e.spanRef=t},tabIndex:n,"data-index":n}))},t}(p);d.propTypes={index:c.a.PropTypes.number,isFocus:c.a.PropTypes.bool,isFade:c.a.PropTypes.bool,focusType:c.a.PropTypes.string,dispatch:c.a.PropTypes.func}},,,,,,,,,,function(e,t,n){function r(e,t,n,r){var i=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var u=t[c],l=r?r(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?a(n,u,l):o(n,u,l)}return n}var o=n(145),a=n(45);e.exports=r},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,c=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,c&&a(n[0],n[1],c)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}var o=n(150),a=n(160);e.exports=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return r.take}}),Object.defineProperty(t,"takem",{enumerable:!0,get:function(){return r.takem}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return r.put}}),Object.defineProperty(t,"race",{enumerable:!0,get:function(){return r.race}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return r.call}}),Object.defineProperty(t,"apply",{enumerable:!0,get:function(){return r.apply}}),Object.defineProperty(t,"cps",{enumerable:!0,get:function(){return r.cps}}),Object.defineProperty(t,"fork",{enumerable:!0,get:function(){return r.fork}}),Object.defineProperty(t,"spawn",{enumerable:!0,get:function(){return r.spawn}}),Object.defineProperty(t,"join",{enumerable:!0,get:function(){return r.join}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return r.cancel}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(t,"actionChannel",{enumerable:!0,get:function(){return r.actionChannel}}),Object.defineProperty(t,"cancelled",{enumerable:!0,get:function(){return r.cancelled}})},function(e,t,n){"use strict";t.a={prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到 1 分钟",minute:"大约 1 分钟",minutes:"%d 分钟",hour:"大约 1 小时",hours:"大约 %d 小时",day:"1 天",days:"%d 天",month:"大约 1 个月",months:"%d 月",year:"大约 1 年",years:"%d 年",numbers:[],wordSeparator:""}},,,,,,,,,,,,,,,,function(e,t){function n(e){if(e){var t=e.trim();return t=t.replace(/\.\d\d\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}}function r(e){return i.inWords(o(e))}function o(e){return(new Date).getTime()-e.getTime()}e.exports=function(e){return e instanceof Date?r(e):"string"==typeof e?r(n(e)):"number"==typeof e?r(new Date(e)):void 0};var a={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},i=a.strings;e.exports.settings=a,i.inWords=function(e){function t(t,n){var r="function"==typeof t?t(n,e):t,o=i.numbers&&i.numbers[n]||n;return r.replace(/%d/i,o)}var n=i.prefixAgo,r=i.suffixAgo;a.allowFuture&&e<0&&(n=i.prefixFromNow,r=i.suffixFromNow);var o=Math.abs(e)/1e3,c=o/60,s=c/60,u=s/24,l=u/365,p=o<45&&t(i.seconds,Math.round(o))||o<90&&t(i.minute,1)||c<45&&t(i.minutes,Math.round(c))||c<90&&t(i.hour,1)||s<24&&t(i.hours,Math.round(s))||s<48&&t(i.day,1)||u<30&&t(i.days,Math.floor(u))||u<60&&t(i.month,1)||u<365&&t(i.months,Math.floor(u/30))||l<2&&t(i.year,1)||t(i.years,Math.floor(l)),d=i.wordSeparator||"";return void 0===i.wordSeparator&&(d=" "),[n,p,r].join(d).toString().trim()},i.parse=n},function(e,t,n){"use strict";function r(e){var t=s()(),r=[t];return l({},n.i(i.createStore)(e,void 0,i.applyMiddleware.apply(void 0,r)),{startService:t.run})}function o(e,t){for(var n=t,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if("break"===function(){if(r){if(o>=n.length)return"break";a=n[o++]}else{if(o=n.next(),o.done)return"break";a=o.value}var t=a;e.startService(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t();case 3:e.next=0;break;case 5:case"end":return e.stop()}},e,this)}))}())break}}function a(e,t){var a=r(n.i(i.combineReducers)(e));return o(a,t),a}var i=n(54),c=n(192),s=n.n(c),u=n(191);n.n(u);t.a=a;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},,,function(e,t,n){"use strict";function r(e,t){return n.i(c.createStore)(e,c.applyMiddleware.apply(void 0,t))}function o(e,t){return n.i(c.combineReducers)({service:n.i(c.combineReducers)(e),container:n.i(c.combineReducers)(t)})}function a(e,t){var n=new s.ReduxService;for(var r in e)n.setService(r,e[r]);for(var o in t)n.setEntry(o,t[o]);return n}function i(e){var t=e.serviceMap,n=e.entryMap,i=e.serviceReducerMap,c=e.containerReducerMap,s=a(t,n),u=r(o(i,c),[s.middleware]);return s.startAllService(),{store:u,reduxService:s}}var c=n(54),s=n(198);n.n(s);t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(37),u=n.n(s),l=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.toggleEditing=function(e){void 0===e&&(e=!a.state.isEditing),a.setState({isEditing:e,editingValue:a.props.getValue()}),e&&setTimeout(a.focusTextarea,0)},a.onEditUpdate=function(e){return a.setState({editingValue:e.target.value})},a.onEditKeyPress=function(e){return 13===e.which&&(!a.props.isMultiLine||!e.shiftKey)&&a.onEditFinish()},a.onEditFinish=function(){var e=a.state.editingValue.trim();e!==a.getSpanValue()&&a.props.onValueChange(e),a.toggleEditing(!1)},a.focusTextarea=function(){var e=a.refs&&a.refs.textarea;if(e){e.focus&&e.focus();var t=e.value.length;e.setSelectionRange(t,t),e.scrollTop=e.scrollHeight-e.offsetHeight}},a.state={isEditing:!1,editingValue:""},n.initEditing&&setTimeout(function(){return a.toggleEditing(!0)},50),a}return a(t,e),t.prototype.getSpanValue=function(){return this.props.getValue()||""},t.prototype.render=function(){var e=this,t=this.props,n=t.placeholder,r=t.isEditLocked,o=this.state,a=o.isEditing,i=o.editingValue;return r?c.a.createElement("span",{className:u.a.editable_span},this.getSpanValue()):a?c.a.createElement("textarea",{className:u.a.editable_span,ref:"textarea",value:i,placeholder:n||"",onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress,onBlur:this.onEditFinish}):c.a.createElement("span",{className:u.a.editable_span,onDoubleClick:function(){return e.toggleEditing(!0)}},this.getSpanValue())},t}(c.a.Component);l.propTypes={onValueChange:c.a.PropTypes.func,getValue:c.a.PropTypes.func,placeholder:c.a.PropTypes.string,isMultiLine:c.a.PropTypes.bool,initEditing:c.a.PropTypes.bool,isEditLocked:c.a.PropTypes.bool};var p=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.onEditUpdate=function(e){return!a.props.isEditLocked&&a.setState({editingValue:e.target.value})},a.onEditKeyPress=function(e){return 13===e.which&&(!a.props.isMultiLine||!e.shiftKey)&&a.onEditFinish(e)},a.onEditFinish=function(e){e&&e.preventDefault(),e&&e.stopPropagation();var t=a.getValue();t&&a.props.onValueChange(t),a.setState({editingValue:""})},a.getValue=function(){return a.state&&a.state.editingValue&&a.state.editingValue.trim()},a.focus=function(){return a.textareaElement&&a.textareaElement.focus()},a.state={editingValue:""},a}return a(t,e),t.prototype.componentDidUpdate=function(){this.props.isAutoHeight&&this.textareaElement&&(this.textareaElement.style.height="auto",this.textareaElement.style.height=Math.max(this.textareaElement.scrollHeight+2,this.textareaElement.offsetHeight)+"px")},t.prototype.render=function(){var e=this,t=this.props.placeholder,n=this.state.editingValue;return c.a.createElement("textarea",{ref:function(t){return e.textareaElement=t},className:u.a.reply_textarea,rows:1,value:n,placeholder:t||"",onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress})},t}(c.a.Component);p.propTypes={onValueChange:c.a.PropTypes.func,placeholder:c.a.PropTypes.string,isMultiLine:c.a.PropTypes.bool,isEditLocked:c.a.PropTypes.bool,isAutoHeight:c.a.PropTypes.bool},t.a={EditableSpan:l,ReplyTextarea:p}},,,,,,,,,,,,function(e,t,n){(function(n){var r,o;!function(n,a){"use strict";r=[],void 0!==(o=function(){return a()}.apply(t,r))&&(e.exports=o)}(0,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function c(e,t,n){c.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(t,n,r,p,d,f,m){d=d||[];var h=d.slice(0);if(void 0!==f){if(p){if("function"==typeof p&&p(h,f))return;if("object"==typeof p){if(p.prefilter&&p.prefilter(h,f))return;if(p.normalize){var v=p.normalize(h,f,t,n);v&&(t=v[0],n=v[1])}}}h.push(f)}"regexp"===u(t)&&"regexp"===u(n)&&(t=t.toString(),n=n.toString());var y=typeof t,b=typeof n;if("undefined"===y)"undefined"!==b&&r(new a(h,n));else if("undefined"===b)r(new i(h,t));else if(u(t)!==u(n))r(new o(h,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)r(new o(h,t,n));else if("object"===y&&null!==t&&null!==n){if(m=m||[],m.indexOf(t)<0){if(m.push(t),Array.isArray(t)){var g;t.length;for(g=0;g<t.length;g++)g>=n.length?r(new c(h,g,new i(e,t[g]))):l(t[g],n[g],r,p,h,g,m);for(;g<n.length;)r(new c(h,g,new a(e,n[g++])))}else{var w=Object.keys(t),_=Object.keys(n);w.forEach(function(o,a){var i=_.indexOf(o);i>=0?(l(t[o],n[o],r,p,h,o,m),_=s(_,i)):l(t[o],e,r,p,h,o,m)}),_.forEach(function(t){l(e,n[t],r,p,h,t,m)})}m.length=m.length-1}}else t!==n&&("number"===y&&isNaN(t)&&isNaN(n)||r(new o(h,t,n)))}function p(t,n,r,o){return o=o||[],l(t,n,function(e){e&&o.push(e)},r),o.length?o:e}function d(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,a=n.path?n.path.length-1:0;++o<a;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":d(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function m(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":m(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":m(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function h(e,t,n){if(e&&t&&n&&n.kind){var r,o,a=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":m(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function v(e,t,n){if(e&&t){l(e,t,function(r){n&&!n(e,t,r)||f(e,t,r)})}}var y,b,g=[];return y="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},b=y.DeepDiff,b&&g.push(function(){void 0!==b&&y.DeepDiff===p&&(y.DeepDiff=b,b=e)}),t(o,r),t(a,r),t(i,r),t(c,r),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:h,enumerable:!0},isConflict:{value:function(){return void 0!==b},enumerable:!0},noConflict:{value:function(){return g&&(g.forEach(function(e){e()}),g=null),p},enumerable:!0}}),p})}).call(t,n(23))},function(e,t){e.exports={invisible:"_1zaNDXqlOAkZqjzZ_W0HoN",preview_panel:"_2zq0C1GnokpZ5te9TYJzOV",preview_panel_empty:"bMePrtRnFNODIOagR8ajw",preview_panel_upper:"_3GbzEQleFcoWnHA2tEWDMH",screen_count:"_2bDc-jb5hDhc3ZdWrS-SD0",preview_panel_content:"_1CCI82HdacJoik8diTfxCy",preview_panel_popup:"_3k5SXm6qAZdI6ltzoSVDRS",preview_panel_popup_minified:"_1gaO2T-aYLGww7HEt5kGgY"}},,function(e,t,n){"use strict";function r(e){return a.call(e)}var o=Object.prototype,a=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(140),o=n.i(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(162),a=n(163),i=n(164),c=n(165),s=n(166);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){var r=n(71),o=r.Uint8Array;e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e,t,n){var r=e[t];c.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(45),a=n(46),i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(29),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(155),o=r();e.exports=o},function(e,t,n){function r(e,t,n,l,p){e!==t&&i(t,function(i,u){if(s(i))p||(p=new o),c(e,t,u,n,r,l,p);else{var d=l?l(e[u],i,u+"",e,t,p):void 0;void 0===d&&(d=i),a(e,u,d)}},u)}var o=n(142),a=n(68),i=n(147),c=n(149),s=n(29),u=n(52);e.exports=r},function(e,t,n){function r(e,t,n,r,b,g,w){var _=e[n],E=t[n],S=w.get(E);if(S)return void o(e,n,S);var k=g?g(_,E,n+"",e,t,w):void 0,C=void 0===k;if(C){var M=l(E),T=!M&&d(E),x=!M&&!T&&v(E);k=E,M||T||x?l(_)?k=_:p(_)?k=c(_):T?(C=!1,k=a(E,!0)):x?(C=!1,k=i(E,!0)):k=[]:h(E)||u(E)?(k=_,u(_)?k=y(_):(!m(_)||r&&f(_))&&(k=s(E))):C=!1}C&&(w.set(E,k),b(k,E,r,g,w),w.delete(E)),o(e,n,k)}var o=n(68),a=n(152),i=n(153),c=n(154),s=n(159),u=n(171),l=n(172),p=n(174),d=n(175),f=n(72),m=n(29),h=n(74),v=n(177),y=n(178);e.exports=r},function(e,t,n){function r(e,t){return i(a(e,t,o),e+"")}var o=n(170),a=n(168),i=n(169);e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(143);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}var o=n(71),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a,s=c?o.Buffer:void 0,u=s?s.allocUnsafe:void 0;e.exports=r}).call(t,n(85)(e))},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(151);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t){function n(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),c=i.length;c--;){var s=i[e?c:++o];if(n(a[s],s,a)===!1)break}return t}}e.exports=n},function(e,t,n){var r=n(158),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(23))},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e){return"function"!=typeof e.constructor||i(e)?{}:o(a(e))}var o=n(146),a=n(70),i=n(161);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}var o=n(28),a=Array.prototype,i=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(28);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(28);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(28);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,c=a(r.length-t,0),s=Array(c);++i<c;)s[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),o(e,this,u)}}var o=n(144),a=Math.max;e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!o(e)}var o=n(72),a=n(176);e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e)}var o=n(173),a=n(73);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e,a(e))}var o=n(98),a=n(52);e.exports=r},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var c=n(0),s=n(76),u=r(s),l=n(77),p=(r(l),function(e){function t(n,r){o(this,t);var i=a(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component));t.default=p,p.propTypes={store:u.default.isRequired,children:c.PropTypes.element.isRequired},p.childContextTypes={store:u.default.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return e.displayName||e.name||"Component"}function s(e,t){try{return e.apply(t)}catch(e){return T.value=e,T}}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Boolean(e),d=e||k,m=void 0;m="function"==typeof t?t:t?(0,y.default)(t):C;var v=n||M,b=r.pure,g=void 0===b||b,w=r.withRef,E=void 0!==w&&w,j=g&&v!==M,P=x++;return function(e){function t(e,t,n){var r=v(e,t,n);return r}var n="Connect("+c(e)+")",r=function(r){function c(e,t){o(this,c);var i=a(this,r.call(this,e,t));i.version=P,i.store=e.store||t.store,(0,S.default)(i.store,'Could not find "store" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+n+'".');var s=i.store.getState();return i.state={storeState:s},i.clearCache(),i}return i(c,r),c.prototype.shouldComponentUpdate=function(){return!g||this.haveOwnPropsChanged||this.hasStoreStateChanged},c.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},c.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},c.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},c.prototype.configureFinalMapDispatch=function(e,t){var n=m(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:m,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},c.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,h.default)(e,this.stateProps))&&(this.stateProps=e,!0)},c.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,h.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},c.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&j&&(0,h.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},c.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},c.prototype.trySubscribe=function(){u&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},c.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},c.prototype.componentDidMount=function(){this.trySubscribe()},c.prototype.componentWillReceiveProps=function(e){g&&(0,h.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},c.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},c.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},c.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!g||t!==e){if(g&&!this.doStatePropsDependOnOwnProps){var n=s(this.updateStatePropsIfNeeded,this);if(!n)return;n===T&&(this.statePropsPrecalculationError=T.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},c.prototype.getWrappedInstance=function(){return(0,S.default)(E,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},c.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var i=!0,c=!0;g&&a&&(i=n||t&&this.doStatePropsDependOnOwnProps,c=t&&this.doDispatchPropsDependOnOwnProps);var s=!1,u=!1;r?s=!0:i&&(s=this.updateStatePropsIfNeeded()),c&&(u=this.updateDispatchPropsIfNeeded());return!(!!(s||u||t)&&this.updateMergedPropsIfNeeded())&&a?a:(this.renderedElement=E?(0,p.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):(0,p.createElement)(e,this.mergedProps),this.renderedElement)},c}(p.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:f.default},r.propTypes={store:f.default},(0,_.default)(r,e)}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var p=n(0),d=n(76),f=r(d),m=n(185),h=r(m),v=n(186),y=r(v),b=n(77),g=(r(b),n(74)),w=(r(g),n(229)),_=r(w),E=n(22),S=r(E),k=function(e){return{}},C=function(e){return{dispatch:e}},M=function(e,t,n){return l({},n,e,t)},T={value:null},x=0},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<n.length;a++)if(!o.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var o=n(54)},,function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n,o){switch(void 0===e?"undefined":c(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,r(n)):e[o];case"function":return e(t);default:return e}}function a(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+o.toFixed(2)+" ms)"),a.join(" ")}}function i(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,c=void 0===i?a(t):i,u=t.collapsed,p=t.colors,d=t.level,f=t.diff;e.forEach(function(a,i){var m=a.started,h=a.startedTime,v=a.action,y=a.prevState,b=a.error,g=a.took,w=a.nextState,_=e[i+1];_&&(w=_.prevState,g=_.started-m);var E=r(v),S="function"==typeof u?u(function(){return w},v,a):u,k=(0,s.formatTime)(h),C=p.title?"color: "+p.title(E)+";":"",M=["color: gray; font-weight: lighter;"];M.push(C),t.timestamp&&M.push("color: gray; font-weight: lighter;"),t.duration&&M.push("color: gray; font-weight: lighter;");var T=c(E,k,g);try{S?p.title?n.groupCollapsed.apply(n,["%c "+T].concat(M)):n.groupCollapsed(T):p.title?n.group.apply(n,["%c "+T].concat(M)):n.group(T)}catch(e){n.log(T)}var x=o(d,E,[y],"prevState"),j=o(d,E,[E],"action"),P=o(d,E,[b,y],"error"),O=o(d,E,[w],"nextState");x&&(p.prevState?n[x]("%c prev state","color: "+p.prevState(y)+"; font-weight: bold",y):n[x]("prev state",y)),j&&(p.action?n[j]("%c action    ","color: "+p.action(E)+"; font-weight: bold",E):n[j]("action    ",E)),b&&P&&(p.error?n[P]("%c error     ","color: "+p.error(b,y)+"; font-weight: bold;",b):n[P]("error     ",b)),O&&(p.nextState?n[O]("%c next state","color: "+p.nextState(w)+"; font-weight: bold",w):n[O]("next state",w)),f&&(0,l.default)(y,w,n,S);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=i;var s=n(79),u=n(190),l=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return"color: "+u[e].color+"; font-weight: bold"}function a(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,a=e.index,i=e.item;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",i];default:return[]}}function i(e,t,n,i){var c=(0,s.default)(e,t);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}c?c.forEach(function(e){var t=e.kind,i=a(e);n.log.apply(n,["%c "+u[t].text,o(t)].concat(r(i)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=n(135),s=function(e){return e&&e.__esModule?e:{default:e}}(c),u={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},s.default,e),n=t.logger,r=t.transformer,c=t.stateTransformer,u=t.errorTransformer,l=t.predicate,p=t.logErrors,d=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var f=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof l&&!l(n,r))return e(r);var s={};f.push(s),s.started=i.timer.now(),s.startedTime=new Date,s.prevState=c(n()),s.action=r;var m=void 0;if(p)try{m=e(r)}catch(e){s.error=u(e)}else m=e(r);s.took=i.timer.now()-s.started,s.nextState=c(n());var h=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,a.printBuffer)(f,o({},t,{diff:h})),f.length=0,s.error)throw s.error;return m}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(188),i=n(79),c=n(189),s=function(e){return e&&e.__esModule?e:{default:e}}(c),u=r();t.defaults=s.default,t.logger=u,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.effects=t.CANCEL=t.delay=t.takeLatest=t.takeEvery=t.buffers=t.channel=t.eventChannel=t.END=t.runSaga=void 0;var o=n(195);Object.defineProperty(t,"runSaga",{enumerable:!0,get:function(){return o.runSaga}});var a=n(30);Object.defineProperty(t,"END",{enumerable:!0,get:function(){return a.END}}),Object.defineProperty(t,"eventChannel",{enumerable:!0,get:function(){return a.eventChannel}}),Object.defineProperty(t,"channel",{enumerable:!0,get:function(){return a.channel}});var i=n(48);Object.defineProperty(t,"buffers",{enumerable:!0,get:function(){return i.buffers}});var c=n(196);Object.defineProperty(t,"takeEvery",{enumerable:!0,get:function(){return c.takeEvery}}),Object.defineProperty(t,"takeLatest",{enumerable:!0,get:function(){return c.takeLatest}});var s=n(8);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return s.delay}}),Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function(){return s.CANCEL}});var u=n(194),l=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(101),d=r(p),f=n(197),m=r(f);t.default=l.default,t.effects=d,t.utils=m},function(e,t,n){"use strict";function r(e){a?o.push(e):(a=!0,o.push(e),r.flush())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=[],a=!1;r.suspend=function(){return a=!0},r.flush=function(){for(var e=void 0;e=o.shift();)e();a=!1}},function(e,t,n){"use strict";function r(){function e(e){function r(e){for(var n=arguments.length,r=Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return(0,i.default)(e.apply(void 0,r),s.subscribe,a,o,t,0,e.name)}var o=e.getState,a=e.dispatch;n=r;var s=(0,c.emitter)();return function(e){return function(t){var n=e(t);return s.emit(t),n}}}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=void 0;if(o.is.func(t))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(t.logger&&!o.is.func(t.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");return e.run=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return(0,o.check)(n,o.is.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),(0,o.check)(e,o.is.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!"),n.apply(void 0,[e].concat(r))},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(8),a=n(80),i=function(e){return e&&e.__esModule?e:{default:e}}(a),c=n(30)},function(e,t,n){"use strict";function r(e,t){var n=t.subscribe,r=t.dispatch,a=t.getState,c=t.sagaMonitor,s=t.logger;return(0,o.check)(e,o.is.iterator,"runSaga must be called on an iterator"),(0,i.default)(e,n,r,a,{sagaMonitor:c,logger:s})}Object.defineProperty(t,"__esModule",{value:!0}),t.runSaga=r;var o=n(8),a=n(80),i=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function r(e,t){function n(t,n){if(a===d)return p;if(n)throw a=d,n;o&&o(t);var r=e[a](),i=c(r,3),s=i[0],u=i[1],l=i[2];return a=s,o=l,a===d?p:u}var r=arguments.length<=2||void 0===arguments[2]?"iterator":arguments[2],o=void 0,a=t;return(0,u.makeIterator)(n,function(e){return n(null,e)},r)}function o(e){return Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function a(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var c={done:!1,value:(0,l.take)(e)},u=function(e){return{done:!1,value:l.fork.apply(void 0,[t].concat(a,[e]))}},p=void 0,f=function(e){return p=e};return r({q1:function(){return["q2",c,f]},q2:function(){return p===s.END?[d]:["q1",u(p)]}},"q1","takeEvery("+o(e)+", "+t.name+")")}function i(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var c={done:!1,value:(0,l.take)(e)},u=function(e){return{done:!1,value:l.fork.apply(void 0,[t].concat(a,[e]))}},p=function(e){return{done:!1,value:(0,l.cancel)(e)}},f=void 0,m=void 0,h=function(e){return f=e},v=function(e){return m=e};return r({q1:function(){return["q2",c,v]},q2:function(){return m===s.END?[d]:f?["q3",p(f)]:["q1",u(m),h]},q3:function(){return["q1",u(m),h]}},"q1","takeLatest("+o(e)+", "+t.name+")")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.takeEvery=a,t.takeLatest=i;var s=n(30),u=n(8),l=n(31),p={done:!0,value:void 0},d={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);Object.defineProperty(t,"TASK",{enumerable:!0,get:function(){return r.TASK}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return r.noop}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return r.is}}),Object.defineProperty(t,"deferred",{enumerable:!0,get:function(){return r.deferred}}),Object.defineProperty(t,"arrayOfDeffered",{enumerable:!0,get:function(){return r.arrayOfDeffered}}),Object.defineProperty(t,"createMockTask",{enumerable:!0,get:function(){return r.createMockTask}});var o=n(31);Object.defineProperty(t,"asEffect",{enumerable:!0,get:function(){return o.asEffect}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=a({},t,{_tick:0});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments[1];return r.type===e?a({},t,r.payload,{_tick:t._tick+1}):t}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c={done:!0,value:null},s=function(){function e(t){var n=this;r(this,e),this.type=t,this.generator=null,this.observer=null,this.running=!1,this.isEnteredInput=!1,this.expect={},this.respond=c,this.contextObject={req:function(e){n.expect=[].concat(e).reduce(function(e,t){return e[t]=!0,e},{})},res:function(e){n.respond={done:!1,value:e}}}}return i(e,[{key:"linkGenerator",value:function(e,t){var n=this;this.generator=e(a({},this.contextObject,t)),this.generatorNext=function(e){n.respond=c,n.running&&(n.running=n.generator.next(e).done===!1)}}},{key:"linkObserver",value:function(e){this.observer=e}},{key:"start",value:function(e){this.running||(this.running=!0,this.next(e))}},{key:"input",value:function(e,t){var n=!1;return this.running&&this.expect[e]&&(this.isEnteredInput?console.error("[ReduxService][LiteCSP] unexpected re-entry of "+this.type+", key: "+e):this.isEnteredInput=!0,this.next(t),this.isEnteredInput=!1,n=!0),n}},{key:"next",value:function(e){for(this.generatorNext(e);this.observer&&this.running&&!this.respond.done;)this.observer(this.respond.value),!this.respond.done&&this.generatorNext(e)}},{key:"stop",value:function(e){this.running&&(this.generator.return(e),this.running=!1,this.expect={})}}]),e}(),u=["middleware","setEntry","setService","startService","startAllService","stopService"],l=function(){function e(){var t=this;r(this,e),this.store=null,this.entryMap={},this.serviceMap={},this.serviceGeneratorFunctionMap={},this.bindMap={},u.forEach(function(e){return t[e]=t.bindMap[e]=t[e].bind(t)})}return i(e,[{key:"middleware",value:function(e){var t=this;return this.setStore(e),function(e){return function(n){return t.onAction(n)||e(n)}}}},{key:"setStore",value:function(e){this.store=e}},{key:"setEntry",value:function(e,t){this.entryMap[e]&&console.warn("[ReduxService] possible unexpected entry overwrite:",e,t),this.entryMap[e]=t}},{key:"setService",value:function(e,t){this.serviceGeneratorFunctionMap[e]&&console.warn("[ReduxService] possible unexpected service overwrite:",e,t),this.serviceGeneratorFunctionMap[e]=t}},{key:"startService",value:function(e){var t=this,n=this.serviceGeneratorFunctionMap[e];if(!n)return console.warn("[ReduxService] service not found:",e);if(this.serviceMap[e])return console.warn("[ReduxService] service already started:",e);var r=new s(e);if(r.linkGenerator(n,a({store:this.store},this.bindMap)),r.linkObserver(function(){var e;return(e=t.store).dispatch.apply(e,arguments)}),r.start(),!r.running)return console.warn("[ReduxService] service failed to start:",e);this.serviceMap[e]=r}},{key:"startAllService",value:function(){for(var e in this.serviceGeneratorFunctionMap)!this.serviceMap[e]&&this.startService(e)}},{key:"stopService",value:function(e){var t=this.serviceMap[e];t&&(t.stop(),delete this.serviceMap[t.type])}},{key:"onAction",value:function(e){this.store||console.warn("[ReduxService] caught action before store configured:",e);var t=this.entryMap[e.type];if(t){if(t(this.store,e))return!0}for(var n in this.serviceMap){var r=this.serviceMap[n];if(r.input(e.type,e))return r.running||delete this.serviceMap[r.type],!0}return!1}}]),e}();t.ReduxService=l,t.createSessionReducer=o,t.default={ReduxService:l,createSessionReducer:o}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var c=e(n,r,i),s=c.dispatch,u=[],l={getState:c.getState,dispatch:function(e){return s(e)}};return u=t.map(function(e){return e(l)}),s=o.a.apply(void 0,u)(c.dispatch),a({},c,{dispatch:s})}}}var o=n(81);t.a=r;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var i=n[a],c=e[i];"function"==typeof c&&(o[i]=r(c,t))}return o}t.a=o},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.b.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.b.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function a(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var i=t[a];"function"==typeof e[i]&&(n[i]=e[i])}var c,s=Object.keys(n);try{o(n)}catch(e){c=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(c)throw c;for(var o=!1,a={},i=0;i<s.length;i++){var u=s[i],l=n[u],p=e[u],d=l(p,t);if(void 0===d){var f=r(u,t);throw new Error(f)}a[u]=d,o=o||d!==p}return o?a:e}}var i=n(82);n(67),n(83);t.a=a},function(e,t,n){e.exports=n(203)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(204),i=function(e){return e&&e.__esModule?e:{default:e}}(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var c=(0,i.default)(o);t.default=c}).call(t,n(23),n(85)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},,,,,,,function(e,t,n){"use strict";function r(e){e.ScrollSync=o.a,e.WebpackInvasion=a.a,e.ToggleBoard=i.a,e.TimeoutBucket=c.a,e.EventBucket=s.a,e.RunnerUtil=u.a,e.TransitionUtil=l.a}var o=n(268),a=n(272),i=n(270),c=n(269),s=n(266),u=n(267),l=n(271);t.a=r},,,,function(e,t,n){"use strict";var r=n(273),o=n(274);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return o.a});r.a},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(0),a=n.n(o),i=n(12),c=n.n(i),s=n(18),u=(n.n(s),n(25)),l=n(264),p=n(255),d=function(){function e(){r(this,e),this.isInited=!1,this.panelElement=null,this.markerPanelElement=null,this.markerContainerElement=null,this.markerReferenceElement=null,this.rangeElement=null}return e.prototype.init=function(e){!this.isInited&&e&&(e.dispatch({type:"entry:comment:start"}),this.isInited=!0,this.panelElement=document.getElementById("ui-comment-panel"),this.markerPanelElement=document.getElementById("ui-comment-marker-panel"),this.markerContainerElement=document.getElementById("simulator-container"),this.rangeElement=document.getElementById("simulator-wrapper"))},e.prototype.clear=function(e){this.isInited&&(this.stop(e),e&&e.dispatch({type:"service:comment:stop"}),this.isInited=!1,this.isStarted=!1,this.panelElement=null,this.markerPanelElement=null,this.markerContainerElement=null,this.markerReferenceElement=null,this.rangeElement=null)},e.prototype.start=function(e){this.isInited&&(this.isStarted=!0)},e.prototype.update=function(e){this.isInited&&this.isStarted&&(this.markerReferenceElement=document.getElementsByClassName("pcanvas active")[0].getElementsByClassName("scontainer")[0],this.render(e))},e.prototype.stop=function(e){this.isInited&&this.isStarted&&(e&&this.render(null),e&&e.dispatch({type:"container:comment:set:is-minified",payload:{isMinified:!1}}),this.isStarted=!1)},e.prototype.render=function(e){this.isInited&&this.isStarted&&(this.panelElement&&c.a.render(e?a.a.createElement(s.Provider,{store:e},a.a.createElement(p.a.containers.CommentPanel,null)):a.a.createElement("div",null),this.panelElement),this.markerPanelElement&&c.a.render(e?a.a.createElement(s.Provider,{store:e},a.a.createElement(p.a.containers.CommentMarkerPanel,{containerElement:this.markerContainerElement,rangeElement:this.rangeElement,referenceElement:this.markerReferenceElement})):a.a.createElement("div",null),this.markerPanelElement))},e.prototype.pushData=function(e,t,n,r){var o="thread"===t?u.a.SpineModel.CommentThread:"comment"===t?u.a.SpineModel.Comment:null,a=o&&o.findByAttribute("cid",r.cid);"update"===n&&(a||(a=new o(r)),a.load(r),a.lsave(!1)),"destroy"===n&&a.ldestroy(!1),a&&e&&e.dispatch({type:"service:comment:push-data",payload:{pushType:t,action:n,data:r,record:a}})},e.prototype.startWithSelectedThread=function(e,t){this.start(e),this.update(e),e&&e.dispatch({type:"container:comment:select",payload:{select:t.cid}})},e}(),f=function(){function e(){r(this,e),this.isInited=!1,this.panelElement=null}return e.prototype.init=function(e){!this.isInited&&e&&(this.isInited=!0,e.dispatch({type:"entry:screen:start"}),this.panelElement=document.getElementById("ui-screen-panel"))},e.prototype.clear=function(e){this.isInited&&(this.stop(e),e&&this.render(null),e&&e.dispatch({type:"service:screen:stop"}),this.isInited=!1,this.panelElement=null)},e.prototype.start=function(e){},e.prototype.update=function(e){this.render(e)},e.prototype.stop=function(e){e&&this.render(null)},e.prototype.render=function(e){this.isInited&&this.panelElement&&c.a.render(e?a.a.createElement(s.Provider,{store:e},a.a.createElement(l.a.containers.ScreenPanel,null)):a.a.createElement("div",null),this.panelElement)},e}();t.a={serviceList:["user","team","project","screen","collaborator","comment","inspect"],containerReducerMap:{screen:l.a.reducers,comment:p.a.reducers},viewMap:{screen:new f,comment:new d},extendCallback:function(e){e.previewInit=function(){e.callViewMethod("screen","init"),e.callViewMethod("comment","init")},e.previewClear=function(){e.callViewMethod("screen","clear"),e.callViewMethod("comment","clear")},e.checkHash=function(t,n){var r=t&&t.hash;if(r){if(r.startsWith("#thread=")){var o=r.substr("#thread=".length);n.replaceState?n.replaceState(null,null,t.pathname):n.pushState(null,null,t.pathname);var a=u.a.SpineModel.CommentThread.findByAttribute("cid",o);if(!a)return console.warn("[checkHash] missing commentThread");setTimeout(function(){e.updateCurrentScreen(),e.callViewMethod("comment","start"),e.store.dispatch({type:"container:comment:select",payload:{select:a.cid}})},200)}if(r.startsWith("#screen=")){var i=r.substr("#screen=".length),c=u.a.SpineModel.Screen.findByAttribute("cid",i);if(!c)return console.warn("[checkHash] missing screen");setTimeout(function(){e.callViewMethod("screen","start"),e.store.dispatch({type:"entry:inspect:screen",payload:{screen:c}})},200)}}},e.updateCurrentScreen=function(){var t=u.a.MB.currentScreen||null;if(!t)return console.warn("[CommentView][update] missing screen");e.store.dispatch({type:"entry:external:inspect:screen",payload:{screen:t}}),u.a.Global.location.hash="#screen="+t.cid},e.getUserRole=function(){var t=e.store.getState().service.inspect;return t.collaborator&&t.collaborator.userRole}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=window,u=s.MB,l=s.$,p=s.I18N,d=s.confirm,f=s.Team,m=s.MBServer,h=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.handleShare=function(){n.setState({activeTab:"share"})},n.handleEmbed=function(){n.props.app.download(function(){n.setState({activeTab:"embed"})})},n.handleSelect=function(e){l(e.target).select()},n.handleRefresh=function(e){if(e.preventDefault(),d(p.refresh_token_confirmation)){var t=Math.uuid(31);n.setAttr("access_token",t)}},n.handleHighlight=function(e){n.setAttr("highlight",e.target.checked)},n.handleWechat=function(e){n.setAttr("wechat",e.target.checked)},n.handlePasswordChange=function(e){n.setAttr("password",e.target.value)},n.handlePrivate=function(){n.setAttr("access","private")},n.handleRestricted=function(){return u.mp("选择了白名单模式"),n.props.app.password="",n.setAttr("access","restricted")},n.handleCollaborators=function(e){var t,r,o;e.preventDefault(),l("#sharing-modal").modal("hide"),u.mp("点击了分享窗口的协作者管理按钮"),t=n.props.app,t.team_cid&&(o=f.find(t.team_cid)),r=o||t,u.renderCollaboratorsModal(r),l("#collaborators-modal").modal()},n.handleUpdateShell=function(e){var t=n.props.app;t.shell_type=e.target.value,t.lsave(u.user.id===t.owner_id),l("body").trigger("queue:save"),u.currentProject&&u.runner.reload(!0)},n.handleSlackWebHook=function(e){n.setAttr("slack_web_hook_url",e.target.value)},n.state={activeTab:"share"},n}return a(t,e),t.prototype.generateQrcode=function(){l(this.refs.qrcode).qrcode({text:this.qrurl+"?via=qrcode",width:150,height:150})},t.prototype.componentDidMount=function(){this.generateQrcode(),l(this.refs.select).niceSelect(),l(this.refs.select).on("change",this.handleUpdateShell)},t.prototype.refreshQrcode=function(){l(this.refs.qrcode).empty(),this.generateQrcode()},t.prototype.setAttr=function(e,t){this.props.app[e]=t,this.props.app.lsave(),l("body").trigger("queue:save"),this.forceUpdate()},t.prototype.render=function(){var e=this.props.app,t=void 0,n=void 0;this.qrurl=t="https://"+window.location.host+"/app/"+e.access_token,n="https://"+window.location.host,u.isLocal()&&"file:"!==window.location.protocol&&(this.qrurl=t=window.location.toString()),"file:"===window.location.protocol&&(n="https://"+m,this.qrurl=t="https://"+m+"/app/"+e.access_token),this.refreshQrcode();var r=/edge.modao.cc/.test(window.location.href)?null:"none",o='<iframe src="'+n+"/app/"+e.access_token+'/embed" width="'+(e.shell().width+80)+'" height="'+(e.shell().height+80)+'" allowTransparency="true" frameborder="0"></iframe>',a=!/^\/app/.test(window.location.pathname),i=e.owner_id===u.user.id&&a,s=i||e.canAdmin()&&a;return c.a.createElement("div",{className:"modal-dialog form-horizontal"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header tabs"},c.a.createElement("ul",null,c.a.createElement("li",{className:"share"===this.state.activeTab?"active":null,onClick:this.handleShare},p.sharing_app),c.a.createElement("li",{className:"embed"===this.state.activeTab?"active":null,onClick:this.handleEmbed},p.embed_app)),c.a.createElement("a",{href:"#",className:"close","data-dismiss":"modal"},"×")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{id:"sharing-container"},c.a.createElement("div",{className:"qrcode",ref:"qrcode",style:{display:u.shouldDisplay("share"===this.state.activeTab)}}),c.a.createElement("div",{className:"form-group",style:{display:u.shouldDisplay("share"===this.state.activeTab)}},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",value:t||"",readOnly:!0,onClick:this.handleSelect,style:{cursor:"text"}}),c.a.createElement("span",{className:"input-group-btn",style:{display:u.shouldDisplay(s)}},c.a.createElement("button",{className:"btn btn-default",type:"button",onClick:this.handleRefresh},p.regenerate)))),c.a.createElement("div",{className:"form-group",style:{display:u.shouldDisplay("embed"===this.state.activeTab)}},c.a.createElement("p",{style:{margin:"20px 0"}},p.embed_tips),c.a.createElement("textarea",{className:"form-control",onClick:this.handleSelect,value:o,readOnly:!0})),a?c.a.createElement(u.HR,{value:p.permission}):null,a?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3",style:{marginTop:3}},p.access_permission),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("p",null,c.a.createElement("label",{className:"radio-inline"},c.a.createElement("input",{className:"mb-radio",id:"restricted",disabled:!s,type:"radio",name:"access",value:"restricted",checked:"restricted"===e.access,onChange:this.handleRestricted}),c.a.createElement("label",{htmlFor:"restricted"}),c.a.createElement("span",null,p.restricted_intro),s&&"restricted"===e.access?c.a.createElement("a",{href:"#",onClick:this.handleCollaborators},p.manage_collaborators):null)),c.a.createElement("p",null,c.a.createElement("label",{className:"radio-inline"},c.a.createElement("input",{className:"mb-radio",id:"private",disabled:!s,type:"radio",name:"access",value:"private",checked:"private"===e.access,onChange:this.handlePrivate}),c.a.createElement("label",{htmlFor:"private"}),c.a.createElement("span",null,p.private_intro))),c.a.createElement("p",{style:{display:u.shouldDisplay("private"===e.access)}},c.a.createElement("input",{type:"text",name:"password",className:"form-control password",placeholder:p.sharing_password,value:e.password||"",onChange:this.handlePasswordChange,readOnly:!s})))):null,s?c.a.createElement(u.HR,{value:p.other_settings}):null,c.a.createElement("div",{className:"form-group"},s&&"web"!==e.device?c.a.createElement("label",{className:"control-label col-sm-3"},p.shell_type):null,s&&"web"!==e.device?c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("select",{ref:"select",className:"form-control",defaultValue:e.shell_type,onChange:this.handleUpdateShell},c.a.createElement("option",{value:"device"},p.device_shell),c.a.createElement("option",{value:"default"},p.default_shell),c.a.createElement("option",{value:"none"},p.none_shell))):null),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3",style:{marginTop:3}},p.preview_settings),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{className:"mb-checkbox",type:"checkbox",id:"highlight",checked:e.highlight,onChange:this.handleHighlight}),c.a.createElement("label",{htmlFor:"highlight"}),c.a.createElement("span",null,p.highlight_clickable))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{className:"mb-checkbox",type:"checkbox",id:"wechat",checked:e.wechat,onChange:this.handleWechat}),c.a.createElement("label",{htmlFor:"wechat"}),c.a.createElement("span",null,p.view_in_browser))))),c.a.createElement("h4",{style:{display:r}},"Slack web hook"),c.a.createElement("div",{className:"input-group",style:{display:r}},c.a.createElement("input",{type:"text",className:"form-control",value:e.slack_web_hook_url||"",onBlur:this.handleSlackWebHook}))))))},t}(c.a.Component);t.a=h,h.propTypes={app:c.a.PropTypes.object}},,,,function(e,t,n){"use strict";function r(e){var t=e.serviceList,r=e.containerReducerMap,u=e.viewMap,l=e.extendCallback,p=new a.a;for(var d in u)p.setView(d,u[d]);var f=n.i(o.a)({entryMap:s({},c.a,{"entry:webpack-interface:view:call":function(e,t){var n=(t.type,t.payload);setTimeout(function(){return p.callViewMethod.apply(p,[n.name,n.method].concat(n.args||{}))},0)}}),serviceMap:t.reduce(function(e,t){return e[t]=i.a[t],e},{}),serviceReducerMap:t.reduce(function(e,t){return e[t]=i.b[t],e},{}),containerReducerMap:r}),m=f.store;return f.reduxService.startAllService(),p.setStore(m),l&&l(p),p}var o=n(122),a=n(215),i=n(250),c=n(242);t.a=r;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(20);n.d(t,"a",function(){return o});var o={"entry:service:init":function(e,t){var n=e.dispatch,o=r.a.MB.user||null;n({type:"service:user:init"}),n({type:"service:user:set:user",payload:{user:o}}),n({type:"service:team:init"}),n({type:"service:project:init"}),n({type:"service:screen:init"}),n({type:"service:collaborator:init"}),n({type:"service:comment:init"}),n({type:"service:inspect:init"})},"entry:inspect:clear":function(e,t){var n=e.dispatch,r=t.payload;n({type:"service:inspect:project:clear",payload:r}),n({type:"service:inspect:team:clear",payload:r})},"entry:inspect:team":function(e,t){(0,e.dispatch)({type:"service:inspect:team",payload:t.payload})},"entry:inspect:project":function(e,t){(0,e.dispatch)({type:"service:inspect:project",payload:t.payload})},"entry:inspect:screen":function(e,t){var n=e.dispatch,o=t.payload;n({type:"service:inspect:screen",payload:o}),n({type:"service:comment:inspect:screen",payload:o}),r.a.MB.runner.loadScreen(o.screen.cid)},"entry:external:inspect:screen":function(e,t){var n=e.dispatch,r=t.payload;n({type:"entry:webpack-interface:view:call",payload:{name:"screen",method:"update"}}),n({type:"entry:webpack-interface:view:call",payload:{name:"comment",method:"update"}}),n({type:"service:inspect:screen",payload:r}),n({type:"service:comment:inspect:screen",payload:r})},"entry:inspect:tick":function(e,t){var n=e.dispatch,o=r.a.MB.currentProject||null;if(o){var a=o.team_cid?r.a.SpineModel.Team.findByAttribute("cid",o.team_cid):null;a&&n({type:"entry:inspect:team",payload:{team:a}}),n({type:"entry:inspect:project",payload:{project:o}})}},"entry:comment:start":function(e,t){var n=e.dispatch;n({type:"entry:inspect:tick"}),n({type:"service:comment:start"})},"entry:screen:start":function(e,t){var n=e.dispatch;n({type:"entry:inspect:tick"}),n({type:"service:screen:start"})},"entry:comment:thread:create":function(e,t){var n=e.dispatch;r.a.MB.mp("创建了 CommentThread");var o=t.payload,a=o.message,i=o.top,c=o.left,s=r.a.SpineModel.requestCid("cmth");n({type:"service:comment:thread:create",payload:{cid:s,top:i,left:c}}),n({type:"service:comment:comment:create",payload:{thread_cid:s,message:a}})},"entry:refresh:team":function(e,t){var n=e.dispatch;n({type:"service:team:refresh"}),n({type:"service:collaborator:refresh"})},"entry:refresh:project":function(e,t){var n=e.dispatch;n({type:"service:project:refresh"}),n({type:"service:collaborator:refresh"})},"entry:service:team:delete":function(e,t){var n=e.dispatch,o=e.getState,a=t.payload,i=a.team,c=o().service.user.id;if(i.owner_id===c){if(i.cprojects().length>0)return void r.a.alert(r.a.I18N.delete_projects_first);r.a.confirm(r.a.I18N.are_you_sure)===!0&&n({type:"service:team:delete",payload:{team:i}})}else if(r.a.confirm(r.a.I18N.are_you_sure)){var s=i.collaboratorByUid(c);n({type:"service:collaborator:delete",payload:{collaborator:s}}),n({type:"service:team:delete",payload:{isLocal:!0,team:i}})}},"entry:service:project:delete":function(e,t){var n=e.dispatch,o=e.getState,a=t.payload,i=a.project,c=o().service.user.id;if(i.owner_id===c||i.canAdmin()&&i.team_cid)r.a.confirm(r.a.I18N.del_app_confirmation)===!0&&n({type:"service:project:delete",payload:{project:i}});else if(r.a.confirm(r.a.I18N.are_you_sure)){var s=r.a.SpineModel.Collaborator.select(function(e){return e.project_cid===i.cid&&e.user_id===c}),u=s[0];n({type:"service:collaborator:delete",payload:{collaborator:u}}),n({type:"service:project:delete",payload:{isLocal:!0,project:i}})}},"entry:listpage:toggle:order":function(e){var t=e.dispatch,n=e.getState,o=r.a.MB.preference(),a=n().container.listpage.order,i=void 0;a?(i="asc"===a?"desc":"asc",o.app_order=i,o.lsave()):i=o.app_order,t({type:"container:listpage:set:order",payload:{order:i}})},"entry:focus-element":function(e,t){var n=e.dispatch,r=e.getState,o=t.payload,a=o.focusType,i=o.element;return!(i&&!r().container.comment.isMinified)||(setTimeout(function(){switch(a){case"normal":i.focus&&i.focus();break;case"external":n({type:"entry:webpack-interface:observer:call",payload:{key:"focus-method:request-focus",args:[i]}}),i.focus&&i.focus()}},100),!0)},"service:comment:modify":function(e,t){var n=e.dispatch,r=t.payload,o=r.actionType,a=r.result;"service:comment:thread:create"!==o||!a.cid||0===a.left&&0===a.top||n({type:"container:comment:select",payload:{select:a.cid}})},"container:comment:select":function(e,t){var n=e.dispatch,o=e.getState,a=t.payload,i=o(),c=i.service,s=i.container,u=c.comment,l=u.commentThreadMap,p=u.commentListMap,d=l[s.comment.select];d&&a.select!==s.comment.select&&!p[d.cid].length&&n({type:"service:comment:thread:delete",payload:{commentThread:d}}),d&&r.a.MB.mp("打开了 CommentThread")}}},function(e,t,n){"use strict";function r(e){var t,n,r,o,a,i=e.req,c=e.res,l=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.getState().service,n=t.user,r=t.team,o=t.project,n){e.next=3;break}throw new Error("[Error][service:collaborator] service User required");case 3:if(r){e.next=5;break}throw new Error("[Error][service:collaborator] service Team required");case 5:if(o){e.next=7;break}throw new Error("[Error][service:collaborator] service Project required");case 7:return e.next=9,i("service:collaborator:init");case 9:u(v,l);case 10:return e.next=13,c({type:"reducer:collaborator:update",payload:v});case 13:return e.next=15,i(["service:collaborator:create","service:collaborator:update","service:collaborator:delete","service:collaborator:start","service:collaborator:stop","service:collaborator:refresh"]);case 15:a=e.sent,e.t0=a.type,e.next="service:collaborator:create"===e.t0?19:"service:collaborator:update"===e.t0?19:"service:collaborator:delete"===e.t0?19:"service:collaborator:start"===e.t0?21:"service:collaborator:stop"===e.t0?24:"service:collaborator:refresh"===e.t0?26:28;break;case 19:return y[a.type]&&y[a.type](v,l,a.payload),e.abrupt("break",28);case 21:return s(v,l),v.isActive=!0,e.abrupt("break",28);case 24:return v.isActive=!1,e.abrupt("break",28);case 26:return s(v,l),e.abrupt("break",28);case 28:e.next=10;break;case 30:case"end":return e.stop()}},m[0],this)}function o(e,t,n){var r=t.getState;if(!n.email)return console.warn("[Collaborator] collaborator with no email",n);var o=e.collaboratorList,a=e.collaboratorMap,c=e.collaboratorUserMap,s=e.collaboratorProjectListMap,u=e.collaboratorTeamListMap;if(a[n.cid])return console.warn("[Collaborator] try to create duplicate collaborator",n);var d=r().service,f=d.user.id,m=d.team.teamUserMap[f]||{},h=d.project.projectUserMap[f]||{};n.isDirect=Boolean(n.user_id!==f&&(h[n.project_cid]||m[n.team_cid])),o.push(n),a[n.cid]=n,n.user_id&&p(c,n.user_id,n.cid,n),n.team_cid&&l(u,n.team_cid,n),n.project_cid&&l(s,n.project_cid,n),i(e,n)}function a(e,t,n){var r=e.collaboratorList,o=e.collaboratorMap,a=e.collaboratorUserMap,i=e.collaboratorProjectListMap,s=e.collaboratorTeamListMap;o[n.cid]&&(d(r,n),delete o[n.cid],n.user_id&&delete a[n.user_id][n.cid],n.team_cid&&d(s[n.team_cid],n),n.project_cid&&d(i[n.project_cid],n),c(e,n))}function i(e,t){var n=e.uniqueCollaboratorMap[t.email]||function(t){var n=t.email,r=t.name,o=t.avatar,a=t.user_id,i={email:n,name:r||null,user_id:a||null,avatar:o||h,collaboratorList:[],isInPlan:!1};return e.uniqueCollaboratorList.push(i),e.uniqueCollaboratorMap[n]=i,a&&(e.uniqueCollaboratorUserMap[a]=i),e.promptMap[i.email.trim().toLowerCase()]=i,i.name&&(e.promptMap[i.name.trim().toLowerCase()]=i),i}(t);t.isDirect&&!n.isInPlan&&(e.planUniqueCollaboratorList.push(n),n.isInPlan=!0),n.collaboratorList.push(t)}function c(e,t){var n=e.uniqueCollaboratorMap[t.email];n&&(n&&d(n.collaboratorList,t),n.collaboratorList.length||(d(e.uniqueCollaboratorList,n),d(e.planUniqueCollaboratorList,n),delete e.uniqueCollaboratorMap[n.email],n.user_id&&delete e.uniqueCollaboratorUserMap[n.user_id],delete e.promptMap[n.email.trim().toLowerCase()],n.name&&delete e.promptMap[n.name.trim().toLowerCase()]))}function s(e,t){var n=t.getState().service;n.team.teamList.forEach(function(n){return b(e,t,n,!0)}),n.project.projectList.forEach(function(n){return b(e,t,n,!1)})}function u(e,t){var n=f.a.SpineModel.Collaborator.all();s(e,t),n.forEach(function(n){return o(e,t,n)})}function l(e,t,n){e[t]?e[t].push(n):e[t]=[n]}function p(e,t,n,r){var o;e[t]?e[t][n]=r:e[t]=(o={},o[n]=r,o)}function d(e,t){return e.indexOf(t)>=0?e.splice(t,1)[0]:null}var f=n(20),m=[r].map(regeneratorRuntime.mark),h="/images/avatar.png",v={isActive:!1,collaboratorList:[],collaboratorMap:{},collaboratorUserMap:{},collaboratorTeamListMap:{},collaboratorProjectListMap:{},uniqueCollaboratorList:[],planUniqueCollaboratorList:[],uniqueCollaboratorMap:{},uniqueCollaboratorUserMap:{},promptMap:{}},y={"service:collaborator:create":function(e,t,n){var r=n.isLocal,a=n.email,i=n.role,c=n.name,s=n.user_id,u=n.cid,l=n.team_cid,p=n.project_cid,d=n.avatar,m=t.getState().service.inspect.collaborator.userData||{},v=new f.a.SpineModel.Collaborator({email:a,role:i,name:c,user_id:s,cid:u||f.a.SpineModel.requestCid("co"),team_cid:l||m.team_cid||null,project_cid:p||m.project_cid||null,avatar:d||h});return v.lsave(!r),!r&&f.a.SpineModel.queueSave(),o(e,t,v),v},"service:collaborator:update":function(e,t,n){var r=n.isLocal,o=n.collaborator,a=n.role;return o.role=a,o.lsave(!r),!r&&f.a.SpineModel.queueSave(),o},"service:collaborator:delete":function(e,t,n){var r=n.isLocal,o=n.collaborator;return o.ldestroy(!r),!r&&f.a.SpineModel.queueSave(),a(e,t,o),o}},b=function(e,t,n,r){var o="co_MOCK_"+n.cid;e.collaboratorMap[o]||y["service:collaborator:create"](e,t,{isLocal:!0,cid:o,role:"owner",user_id:n.owner_id,name:n.owner_name,email:n.owner_email||"email_MOCK_"+n.owner_id,avatar:n.owner_avatar,team_cid:r?n.cid:null,project_cid:r?null:n.cid})};t.a={name:"collaborator",type:"collaborator",session:v,service:r}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return JSON.parse(f.a.Storage[e+"_commentTick"]||"{}")}function a(e,t){f.a.Storage[e+"_commentTick"]=JSON.stringify(t)}function i(e,t){var n=o(e);n[t]=Math.floor(.001*Date.now()+2),a(e,n)}function c(){for(var e=.001*Date.now()-2592e3,t=[],n=0,r=f.a.Storage.length;n<r;n++){(function(n,r){var o=f.a.Storage.key(n);if(!o.endsWith("_commentTick"))return"continue";var a=JSON.parse(f.a.Storage[o]||"{}");if(Object.keys(a).find(function(t){return a[t]>=e}))return"continue";t.push(o)})(n)}t.forEach(function(e){return f.a.Storage.removeItem(e)})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e[t]=(e[t]||0)+n}function u(e){var t,n,r,o,a,c=this,u=e.req,p=e.res,y=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("service:comment:init");case 2:return v.commentThreadList=[],v.commentThreadMap={},v.commentListMap={},v.commentMap={},v.screenThreadCountMap={},v.tickData=null,e.next=11,p({type:"reducer:comment:update",payload:v});case 11:return e.next=13,u("service:comment:start");case 13:t=y.getState().service,n=t.inspect,r=n.collaborator,o=n.project,f.a.SpineModel.CommentThread.all().forEach(function(e){return s(v.screenThreadCountMap,e.screen_cid)}),v.tickData=new h,"guest"!==r.userRole&&v.tickData.init(o.data.cid),v.isActive=!0,a=regeneratorRuntime.mark(function e(){var t,n,r,o,a,s,f,m,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({type:"reducer:comment:update",payload:v});case 2:return t=y.getState().service,n=t.inspect,r=n.collaborator,o=n.project,a=n.screen,"guest"!==r.userRole&&o.data&&a.data&&i(o.data.cid,a.data.cid),e.next=7,u(["service:comment:inspect:screen","service:comment:comment:create","service:comment:comment:update","service:comment:comment:delete","service:comment:thread:create","service:comment:thread:update","service:comment:thread:delete","service:comment:read-comment","service:comment:push-data","service:comment:stop"]);case 7:s=e.sent,e.t0=s.type,e.next="service:comment:stop"===e.t0?11:"service:comment:inspect:screen"===e.t0?13:"service:comment:read-comment"===e.t0?15:17;break;case 11:return v.isActive=!1,e.abrupt("break",21);case 13:return l(v,y,s.payload),e.abrupt("break",21);case 15:return v.tickData&&v.tickData.popUnreadComment(s.payload.comment),e.abrupt("break",21);case 17:return f=y.getState().service,m=g[f.inspect.collaborator.userRole]?d(s.type,v,y,s.payload,!1):null,m&&(h=v.commentThreadList,b=v.screenThreadCountMap,b[f.inspect.screen.data.cid]=h.length,setTimeout(function(){return y.dispatch({type:"service:comment:modify",payload:{result:m,actionType:s.type}})},0)),e.abrupt("break",21);case 21:case"end":return e.stop()}},e,c)});case 20:if(!v.isActive){e.next=24;break}return e.delegateYield(a(),"t0",22);case 22:e.next=20;break;case 24:e.next=2;break;case 26:case"end":return e.stop()}},m[0],this)}function l(e,t,n){var r=t.getState,o=r().service,a=o.inspect.screen.data.cid,i=[],c={},s={},u={};f.a.SpineModel.CommentThread.all().forEach(function(e){e.screen_cid===a&&(i.push(e),c[e.cid]=e,s[e.cid]=[],e.permission=p(o,e.user_id))}),f.a.SpineModel.Comment.all().forEach(function(e){var t=s[e.thread_cid];t&&(t.push(e),u[e.cid]=e,e.message=e.message||"",e.permission=p(o,e.user_id),e.collaborator=o.collaborator.uniqueCollaboratorUserMap[e.user_id])}),i.sort(y);for(var l in s)s[l].sort(y);e.commentThreadList=i,e.commentThreadMap=c,e.commentListMap=s,e.commentMap=u}function p(e,t){var n=e.inspect.collaborator.userRole,r=g[n]||!1,o=r&&e.user.id===t,a=o||w[n]||!1;return b[(r?1:0)+(o?2:0)+(a?4:0)]}function d(e,t,n,r,o){var a=_[e];return a?a(t,n,r,o):null}var f=n(20),m=[u].map(regeneratorRuntime.mark),h=function(){function e(){r(this,e),this.unreadCommentMap={},this.unreadCountThreadMap={},this.unreadCountScreenMap={}}return e.prototype.init=function(e){var t=this,n=f.a.SpineModel.CommentThread.all(),r=o(e),i={},u={};n.forEach(function(e){var t=e.cid,n=e.screen_cid;u[t]=n,i[n]=r[n]}),f.a.SpineModel.Comment.all().forEach(function(e){(i[u[e.thread_cid]]||0)<e.updated_at&&(t.unreadCommentMap[e.cid]=!0,s(t.unreadCountThreadMap,e.thread_cid))}),n.forEach(function(e){t.unreadCountThreadMap[e.cid]&&s(t.unreadCountScreenMap,e.screen_cid,t.unreadCountThreadMap[e.cid])}),a(e,i),c()},e.prototype.addUnreadCount=function(e,t){s(this.unreadCountThreadMap,e.thread_cid,t);var n=f.a.SpineModel.CommentThread.findByAttribute("cid",e.thread_cid);n&&s(this.unreadCountScreenMap,n.screen_cid,t)},e.prototype.pushUnreadComment=function(e){this.unreadCommentMap[e.cid]||(this.unreadCommentMap[e.cid]=!0,this.addUnreadCount(e,1))},e.prototype.popUnreadComment=function(e){this.unreadCommentMap[e.cid]&&(delete this.unreadCommentMap[e.cid],this.addUnreadCount(e,-1))},e}(),v={isActive:!1,commentThreadList:[],commentThreadMap:{},commentListMap:{},commentMap:{},screenThreadCountMap:{},tickData:null},y=function(e,t){return e.created_at-t.created_at},b=[0,1,2,3,4,5,6,7].map(function(e){return{create:!!(1&e),update:!!(2&e),delete:!!(4&e)}}),g={owner:!0,admin:!0,editor:!0,viewer:!0},w={owner:!0,admin:!0},_={"service:comment:thread:create":function(e,t,n){var r=t.getState,o=n.left,a=n.top,i=n.cid,c=r().service,s=.001*Date.now(),u=new f.a.SpineModel.CommentThread({cid:i||f.a.SpineModel.requestCid("cmth"),screen_cid:c.inspect.screen.data.cid,user_id:c.user.id,created_at:s,updated_at:s});return u.setLeft(o),u.setTop(a),u.lsave(!1),u.permission=p(c,u.user_id),e.commentThreadList.push(u),e.commentThreadMap[u.cid]=u,e.commentListMap[u.cid]=[],u},"service:comment:thread:update":function(e,t,n){var r=(t.getState,n.commentThread),o=n.left,a=n.top;if(!r.permission.update)return null;var i=0===e.commentListMap[r.cid].length,c=.001*Date.now();return r.setLeft(o),r.setTop(a),r.updated_at=c,r.lsave(!i),!i&&f.a.SpineModel.queueSave(),r},"service:comment:thread:delete":function(e,t,n){var r=(t.getState,n.commentThread);if(!r.permission.delete)return null;var o=e.commentThreadList.findIndex(function(e){return e===r});return o>=0&&e.commentThreadList.splice(o,1),delete e.commentThreadMap[r.cid],delete e.commentListMap[r.cid],r.ldestroy(),f.a.SpineModel.queueSave(),r},"service:comment:comment:create":function(e,t,n){var r=t.getState,o=n.thread_cid,a=n.message,i=r().service,c=.001*Date.now(),s=new f.a.SpineModel.Comment({cid:f.a.SpineModel.requestCid("cm"),thread_cid:o,message:a,user_id:i.user.id,created_at:c,updated_at:c});if(0===e.commentListMap[o].length){e.commentThreadMap[o].lsave(!0)}return s.lsave(),f.a.SpineModel.queueSave(),s.permission=p(i,s.user_id),s.collaborator=i.inspect.collaborator.userData,e.commentListMap[o].push(s),e.commentMap[s.cid]=s,s},"service:comment:comment:update":function(e,t,n){var r=(t.getState,n.comment),o=n.message;if(!r.permission.update)return null;var a=.001*Date.now();return r.message=o,r.updated_at=a,r.lsave(),f.a.SpineModel.queueSave(),r},"service:comment:comment:delete":function(e,t,n){var r=(t.getState,n.comment);if(!r.permission.delete)return null;var o=e.commentListMap[r.thread_cid],a=o?o.findIndex(function(e){return e===r}):0;return a>=0&&o.splice(a,1),delete e.commentMap[r.cid],r.ldestroy(),f.a.SpineModel.queueSave(),r},"service:comment:push-data":function(e,t,n){var r=t.getState,o=n.pushType,a=n.action,i=n.data,c=n.record,s=r().service;switch(o){case"thread":if(i.screen_cid!==s.inspect.screen.data.cid)return null;var u=e.commentThreadMap[i.cid]||null;if("update"===a)u||(u=c,u.permission=p(s,u.user_id),e.commentThreadList.push(u),e.commentThreadMap[u.cid]=u,e.commentListMap[u.cid]=[]);else if("destroy"===a&&u){var l=e.commentThreadList.findIndex(function(e){return e===u});l>=0&&e.commentThreadList.splice(l,1),delete e.commentThreadMap[u.cid],delete e.commentListMap[u.cid]}return u;case"comment":if(!e.commentThreadMap[i.thread_cid])return null;var d=e.commentMap[i.cid]||null;if("update"===a)d||(d=c,d.permission=p(s,d.user_id),d.collaborator=s.collaborator.uniqueCollaboratorUserMap[d.user_id],e.commentListMap[d.thread_cid].push(d),e.commentMap[d.cid]=d),e.tickData.pushUnreadComment(i);else if("destroy"===a&&d){var f=e.commentListMap[d.thread_cid],m=f?f.findIndex(function(e){return e===d}):0;m>=0&&f.splice(m,1),delete e.commentMap[d.cid]}return d}return null}};t.a={name:"comment",type:"comment",service:u,session:v}},function(e,t,n){"use strict";function r(e){var t,n,r=e.req,o=e.res,a=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("service:inspect:init");case 2:return e.next=5,o({type:"reducer:inspect:update",payload:s});case 5:return e.next=7,r(["service:inspect:team","service:inspect:team:clear","service:inspect:project","service:inspect:project:clear","service:inspect:screen","service:inspect:screen:clear"]);case 7:t=e.sent,n=u[t.type],n&&n(s,a,t.payload),e.next=2;break;case 12:case"end":return e.stop()}},c[0],this)}function o(e){switch(e){case"owner":case"admin":case"editor":case"viewer":return e;default:return"guest"}}function a(e,t,n){e[t]?e[t].push(n):e[t]=[n]}var i=n(20),c=[r].map(regeneratorRuntime.mark),s={team:{data:null},project:{data:null,type:"",screenList:[],screenMap:{},screenRootList:[]},screen:{data:null},collaborator:{type:"",ownerData:null,userData:null,userRole:"guest"}},u={"service:inspect:team":function(e,t,n){var r=n.team;e.team.data=r,u["service:inspect:collaborator"](e,t,{team:r})},"service:inspect:team:clear":function(e,t,n){e.team.data=null,u["service:inspect:collaborator:clear"](e,t,n)},"service:inspect:project":function(e,t,n){var r=n.project;e.project.data=r,e.project.type=r.team_cid?"team-project":"project";var o=r.cid,c=[],s={},l={};i.a.SpineModel.Screen.all().forEach(function(e){e.project_cid===o&&(e.displayName=i.a.MB.unescape(e.name),c.push(e),s[e.cid]=e,a(l,e.parent_cid||"ROOT_SCREEN",e))});var p=[];for(var d in l){var f=l[d];if(f.sort(function(e,t){return e.position-t.position}),"ROOT_SCREEN"===d)p=f;else{var m=s[d];m?m.subScreens=f:console.warn("[buildScreenMap] missing parentScreen for",d,f)}}e.project.screenList=c,e.project.screenMap=s,e.project.screenRootList=p,"project"===e.project.type&&u["service:inspect:collaborator"](e,t,{project:r})},"service:inspect:project:clear":function(e,t,n){"project"===e.project.type&&u["service:inspect:collaborator:clear"](e,t,n),e.project.data=null,e.project.type="",e.project.screenList=[],e.project.screenMap={},e.project.screenRootList=[]},"service:inspect:collaborator":function(e,t,n){var r=n.team,a=n.project,i=t.getState().service,c=i.collaborator,s=c.uniqueCollaboratorUserMap,u=c.collaboratorTeamListMap,l=c.collaboratorProjectListMap,p=c.collaboratorList;if(e.collaborator.type=r?"team":a?"project":"",e.collaborator.type){var d=s[i.user.id];e.collaborator.ownerData=r&&u[r.cid]&&u[r.cid].find(function(e){return"owner"===e.role})||a&&l[a.cid]&&l[a.cid].find(function(e){return"owner"===e.role})||null,e.collaborator.userData=d?r?d.collaboratorList.find(function(e){return e.team_cid===r.cid}):a?d.collaboratorList.find(function(e){return e.project_cid===a.cid}):null:null,e.collaborator.userRole=o(e.collaborator.userData&&e.collaborator.userData.role);var f={},m=r?function(e){e.team_cid,r.cid}:a?function(e){e.project_cid,a.cid}:function(e){return!1};p.forEach(function(e){"owner"!==e.role&&m(e)&&(f[e.email.trim().toLowerCase()]=!0,e.name&&(f[e.name.trim().toLowerCase()]=!0))}),e.collaborator.promptExcludeMap=f}},"service:inspect:collaborator:clear":function(e,t,n){e.collaborator.type="",e.collaborator.ownerData=null,e.collaborator.userData=null,e.collaborator.userRole="guest",e.collaborator.promptExcludeMap={}},"service:inspect:screen":function(e,t,n){var r=n.screen;e.screen.data=r},"service:inspect:screen:clear":function(e,t,n){e.screen.data=null}};t.a={name:"inspect",type:"inspect",session:s,service:r}},function(e,t,n){"use strict";function r(e){var t,n=e.req,r=e.res,s=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:project:init");case 2:o(p,s);case 3:return e.next=6,r({type:"reducer:project:update",payload:p});case 6:return e.next=8,n(["service:project:refresh","service:project:clear","service:project:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:project:refresh"===e.t0?12:"service:project:clear"===e.t0?14:"service:project:delete"===e.t0?16:18;break;case 12:return a(p,s,t.payload),e.abrupt("break",18);case 14:return c(p,s,t.payload),e.abrupt("break",18);case 16:return i(p,s,t.payload),e.abrupt("break",18);case 18:e.next=3;break;case 20:case"end":return e.stop()}},l[0],this)}function o(e,t,n){var r=u.a.SpineModel.Project.all(),o={},a={};r.forEach(function(e){o[e.cid]=e,s(a,e.owner_id,e.cid,e)}),e.projectList=r,e.projectMap=o,e.projectUserMap=a}function a(e,t,n){u.a.SpineModel.Project.all().forEach(function(t){t.deleted||e.projectMap[t.cid]||(e.projectList.push(t),e.projectMap[t.cid]=t,s(e.projectUserMap,t.owner_id,t.cid,t))})}function i(e,t,n){var r=n.isLocal,o=n.project;if(o.destroyed)return null;var a=e.projectList.findIndex(function(e){return e===o});return a>=0&&e.projectList.splice(a,1),delete e.projectMap[o.cid],o.ldestroy(!r),r||u.a.SpineModel.queueSave(),o}function c(e,t,n){e.projectList=[],e.projectMap={},e.projectUserMap={}}function s(e,t,n,r){var o;e[t]?e[t][n]=r:e[t]=(o={},o[n]=r,o)}var u=n(20),l=[r].map(regeneratorRuntime.mark),p={projectList:[],projectMap:{},projectUserMap:{}};t.a={name:"project",type:"project",session:p,service:r}},function(e,t,n){"use strict";function r(e){var t,n=e.req,r=e.res,c=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:screen:init");case 2:o(f,c);case 3:return e.next=6,r({type:"reducer:screen:update",payload:f});case 6:return e.next=8,n(["service:screen:start","service:screen:stop","service:screen:refresh","service:screen:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:screen:start"===e.t0?12:"service:screen:stop"===e.t0?14:"service:screen:refresh"===e.t0?16:"service:screen:delete"===e.t0?18:20;break;case 12:return f.isActive=!0,e.abrupt("break",20);case 14:return f.isActive=!1,e.abrupt("break",20);case 16:return a(f,c,t.payload),e.abrupt("break",20);case 18:return i(f,c,t.payload),e.abrupt("break",20);case 20:e.next=3;break;case 22:case"end":return e.stop()}},s[0],this)}function o(e,t,n){var r=c.a.SpineModel.Screen.all(),o={};r.forEach(function(e){o[e.cid]=e}),e.screenList=r,e.screenMap=o}function a(e,t,n){c.a.SpineModel.Screen.all().forEach(function(t){e.screenMap[t.cid]||(e.screenList.push(t),e.screenMap[t.cid]=t)})}function i(e,t,n){var r=n.isLocal,o=n.screen;if(o.destroyed)return null;var a=e.screenList.findIndex(function(e){return e===o});return a>=0&&e.screenList.splice(a,1),delete e.screenMap[o.cid],r?o.ldestroy(!1):(l.select(function(e){e.target_cid!==o.cid&&e.state_cid!==o.cid||e.ldestroy()}),o.cpanels().map(function(e){return e.ldestroy(!1)}),o.cwidgets().map(function(e){return e.ldestroy(!1)}),o.clinks().map(function(e){return e.ldestroy(!1)}),p.findAllByAttribute("screenstate_cid",o.cid).map(function(e){return e.ldestroy(!1)}),d.findAllByAttribute("screenstate_cid",o.cid).map(function(e){return e.ldestroy(!1)}),o.cscreenstates().map(function(e){e.widgetStates().map(function(e){return e.ldestroy(!1)}),e.panelStates().map(function(e){return e.ldestroy(!1)}),e.ldestroy(!1)}),o.ldestroy(),c.a.SpineModel.queueSave()),o}var c=n(20),s=[r].map(regeneratorRuntime.mark),u=window,l=u.Link,p=u.Widgetstate,d=u.Panelstate,f={isActive:!1,screenList:[],screenMap:{}};t.a={name:"screen",type:"screen",session:f,service:r}},function(e,t,n){"use strict";function r(e){var t,n=e.req,r=e.res,s=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:team:init");case 2:o(p,s);case 3:return e.next=6,r({type:"reducer:team:update",payload:p});case 6:return e.next=8,n(["service:team:refresh","service:team:clear","service:team:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:team:refresh"===e.t0?12:"service:team:clear"===e.t0?14:"service:team:delete"===e.t0?16:18;break;case 12:return a(p,s,t.payload),e.abrupt("break",18);case 14:return i(p,s,t.payload),e.abrupt("break",18);case 16:return c(p,s,t.payload),e.abrupt("break",18);case 18:e.next=3;break;case 20:case"end":return e.stop()}},l[0],this)}function o(e,t,n){var r=u.a.SpineModel.Team.all(),o={},a={};r.forEach(function(e){o[e.cid]=e,s(a,e.owner_id,e.cid,e)}),e.teamList=r,e.teamMap=o,e.teamUserMap=a}function a(e,t,n){u.a.SpineModel.Team.all().forEach(function(t){e.teamMap[t.cid]||(e.teamList.push(t),e.teamMap[t.cid]=t,s(e.teamUserMap,t.owner_id,t.cid,t))})}function i(e,t,n){e.teamList=[],e.teamMap={},e.teamUserMap={}}function c(e,t,n){var r=n.isLocal,o=n.team;if(o.destroyed)return null;var a=e.teamList.findIndex(function(e){return e===o});return a>=0&&e.teamList.splice(a,1),delete e.teamMap[o.cid],o.ldestroy(!r),!r&&u.a.SpineModel.queueSave(),o}function s(e,t,n,r){var o;e[t]?e[t][n]=r:e[t]=(o={},o[n]=r,o)}var u=n(20),l=[r].map(regeneratorRuntime.mark),p={teamList:[],teamMap:{},teamUserMap:{}};t.a={name:"team",type:"team",session:p,service:r}},function(e,t,n){"use strict";function r(e){var t,n,r=e.req,c=e.res;e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("service:user:init");case 2:return e.next=5,c({type:"reducer:user:update",payload:i});case 5:return e.next=7,r(["service:user:set:user","service:user:clear"]);case 7:t=e.sent,e.t0=t.type,e.next="service:user:set:user"===e.t0?11:"service:user:clear"===e.t0?21:27;break;case 11:return n=t.payload.user,i.id=n.id||"",i.name=n.name||"",i.email=n.email||"",i.avatar=n.avatar||"",i.plan=o(n),i.trial=n.trial,i.expired=n.expired,i.partner_id=n.partner_id,e.abrupt("break",27);case 21:return i.id="",i.name="",i.email="",i.avatar="",i.plan={state:"",type:"free",rawType:"free",collaboratorLimitation:0,daysLeft:""},e.abrupt("break",27);case 27:e.next=2;break;case 29:case"end":return e.stop()}},a[0],this)}function o(e){var t=e.plan,n=e.state,r=e.limitation,o=e.days_left,a="active"===n;return{state:n||"",rawType:t||"free",type:a&&t||"free",collaboratorLimitation:a&&r||0,daysLeft:o}}var a=[r].map(regeneratorRuntime.mark),i={id:"",name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",collaboratorLimitation:0}};t.a={name:"user",type:"user",session:i,service:r}},function(e,t,n){"use strict";var r=n(198),o=(n.n(r),n(249)),a=n(248),i=n(246),c=n(247),s=n(243),u=n(244),l=n(245);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var p=[o.a,a.a,i.a,c.a,s.a,u.a,l.a],d={},f={},m={};p.forEach(function(e){var t=e.name,o=e.type,a=e.service,i=e.session;d[t]=a,f[t]=i,m[t]=n.i(r.createSessionReducer)("reducer:"+o+":update",i)})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(25),u=n(37),l=n.n(u),p=n(88),d=n(123);n.d(t,"a",function(){return f});var f=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.toggleFolded=function(e){void 0===e&&(e=!a.state.isFolded),a.setState({isFolded:e})},a.toggleEditing=function(){return a.editableSpanComponent&&a.editableSpanComponent.toggleEditing()},a.doUpdateComment=function(e){return a.props.dispatch({type:"service:comment:comment:update",payload:{comment:a.props.comment,message:e}})},a.doDeleteComment=function(){return s.a.confirm(s.a.I18N.preview.comment.comment_delete_confirm)&&a.props.dispatch({type:"service:comment:comment:delete",payload:{comment:a.props.comment}})},a.state={isFolded:a.props.comment.message.length>120||!1},a}return a(t,e),t.prototype.renderCommentUpper=function(e){return c.a.createElement("div",{className:l.a.comment_comment_upper,type:"toolbar"},e.collaborator&&c.a.createElement("span",{type:"name","data-css":"spacer"},e.collaborator.name),c.a.createElement("span",{type:"time"},s.a.L10N.parseTimeAgo(1e3*e.created_at)))},t.prototype.renderCommentMiddle=function(e){var t=this,n=e.updated_at!==e.created_at;return c.a.createElement("div",{className:[l.a.comment_comment_content,this.state.isFolded?l.a.comment_comment_content_folded:""].join(" ")},c.a.createElement(d.a.EditableSpan,{ref:function(e){return t.editableSpanComponent=e},onValueChange:this.doUpdateComment,getValue:function(){return e.message},isMultiLine:!0,initEditing:!1,placeholder:s.a.I18N.preview.comment.comment_placeholder,isEditLocked:!e.permission.update}),n&&c.a.createElement("span",{type:"edited"},s.a.I18N.preview.comment.tag_edited))},t.prototype.renderCommentLower=function(e){var t=this;return this.state.isFolded||e.permission.update||e.permission.delete?c.a.createElement("div",{className:l.a.comment_comment_lower,type:"toolbar"},this.state.isFolded&&c.a.createElement("span",{type:"modify",onClick:function(){return t.toggleFolded()}},s.a.I18N.preview.comment.unfold),this.state.isFolded&&c.a.createElement("span",{type:"dot"}),e.permission.update&&c.a.createElement("span",{type:"modify",onClick:this.toggleEditing},s.a.I18N.preview.comment.modify_edit),e.permission.update&&c.a.createElement("span",{type:"dot"}),e.permission.delete&&c.a.createElement("span",{type:"modify",onClick:this.doDeleteComment},s.a.I18N.preview.comment.modify_delete)):null},t.prototype.renderThreadInitial=function(e,t){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_thread_initial].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},c.a.createElement(p.b,{index:t,isFocus:!1,isFade:!1}),e&&e.collaborator&&c.a.createElement("img",{type:"avatar",src:e.collaborator.avatar}),e&&this.renderCommentUpper(e),e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))},t.prototype.renderUserInitial=function(e){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_user_initial].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},e&&e.collaborator&&c.a.createElement("img",{type:"avatar",src:e.collaborator.avatar}),e&&this.renderCommentUpper(e),e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))},t.prototype.renderAppending=function(e){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_appending].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))},t.prototype.render=function(){var e=this.props,t=e.comment,n=e.isThreadInitial,r=e.isUserInitial,o=e.commentMarkerIndex;return n?this.renderThreadInitial(t,o):r?this.renderUserInitial(t):this.renderAppending(t)},t}(c.a.Component);f.propTypes={commentMarkerIndex:c.a.PropTypes.number,comment:c.a.PropTypes.object,isThreadInitial:c.a.PropTypes.bool,isUserInitial:c.a.PropTypes.bool,tickData:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){e.preventDefault(),e.stopPropagation()}function c(e){for(var t={top:0,left:0};e;)t.top+=e.offsetTop-e.scrollTop,t.left+=e.offsetLeft-e.scrollLeft,e=e.offsetParent;return t}function s(e,t){var n=e.getBoundingClientRect();return n.left<=t.clientX&&n.top<=t.clientY&&n.left+n.width>=t.clientX&&n.top+n.height>=t.clientY}function u(e,t){var n=e.getBoundingClientRect();return{x:Math.min(Math.max(t.clientX,n.left+b),n.left+n.width-b)-t.clientX,y:Math.min(Math.max(t.clientY,n.top+b),n.top+n.height-b)-t.clientY}}function l(e,t){var n=e.getTop()-t.top,r=e.getLeft()-t.left;return n*n+r*r>225}var p=n(0),d=n.n(p),f=n(37),m=n.n(f),h=n(88);n.d(t,"a",function(){return v});var v=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.addEventListener=function(e){for(var t in e)a.props.containerElement.addEventListener(t,e[t])},a.removeEventListener=function(e){for(var t in e)a.props.containerElement.removeEventListener(t,e[t])},a.getMarkerPosition=function(e){var t=u(a.props.rangeElement,e),n=c(a.props.referenceElement);return{left:e.pageX-n.left+t.x,top:e.pageY-n.top+t.y}},a.addMarkerListener=function(e){s(a.props.rangeElement,e)&&(i(e),a.props.dispatch({type:"service:comment:thread:create",payload:a.getMarkerPosition(e)}))},a.props.containerElement.addEventListener("dblclick",a.addMarkerListener),a}return a(t,e),t.prototype.componentWillUnmount=function(){this.props.containerElement.removeEventListener("dblclick",this.addMarkerListener)},t.prototype.render=function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,o=r.commentThreadList;return d.a.createElement("div",{className:m.a.comment_marker_panel},o.map(function(t,r){return d.a.createElement(y,{key:t.cid,commentThread:t,commentMarkerIndex:r+1,commentContainer:n,isEditable:t.permission.update,addEventListener:e.addEventListener,removeEventListener:e.removeEventListener,getMarkerPosition:e.getMarkerPosition,dispatch:e.props.dispatch})}))},t}(d.a.Component);v.propTypes={containerElement:d.a.PropTypes.object,referenceElement:d.a.PropTypes.object,rangeElement:d.a.PropTypes.object,commentContainer:d.a.PropTypes.object,commentSession:d.a.PropTypes.object,dispatch:d.a.PropTypes.func};var y=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n)),c={mousemove:function(e){i(e);var t=a.props.getMarkerPosition(e);(a.state.isDragging||l(a.props.commentThread,t))&&a.setState({isDragging:!0,position:t})},mouseup:function(e){if(i(e),u(),a.state.isDragging){var t=a.props.getMarkerPosition(e),n=t.left,r=t.top;a.props.dispatch({type:"service:comment:thread:update",payload:{commentThread:a.props.commentThread,left:n,top:r}})}else setTimeout(a.toggleSelect,0);a.setState({isDragging:!1,position:{left:0,top:0}})},mouseleave:function(){u(),a.toggleFocus(!1),a.setState({isDragging:!1,position:{left:0,top:0}})},mousedown:i,mouseout:i,click:i,dblclick:i},s={mouseup:c.mouseup,mousedown:i,mousemove:i,mouseleave:i,mouseout:i,click:i,dblclick:i},u=function(){return a.props.removeEventListener(c)};return a.toggleFocus=function(e){var t=a.props,n=t.commentThread;(0,t.dispatch)({type:"container:comment:focus",payload:{focus:e?n.cid:null}})},a.toggleSelect=function(){var e=a.props,t=e.commentContainer,n=e.commentThread;(0,e.dispatch)({type:"container:comment:select",payload:{select:t.select===n.cid?null:n.cid}})},a.onMouseDown=function(e){i(e),a.props.addEventListener(a.props.isEditable?c:s)},a.onMouseEnter=function(e){i(e),a.toggleFocus(!0)},a.onMouseLeave=function(e){i(e),a.toggleFocus(!1)},a.state={isDragging:!1,position:{left:0,top:0}},a}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.commentThread,n=e.commentMarkerIndex,r=e.commentContainer,o=e.isEditable,a=e.dispatch,c=this.state,s=c.isDragging,u=c.position,l=s?u:{left:t.getLeft(),top:t.getTop()},p=r.select===t.cid,f=r.focus===t.cid,m=r.select&&!p||r.focus&&!f;return d.a.createElement(h.a,{index:n,isFocus:f||p,isFade:m,isEditable:o,divAttributes:{style:l},spanAttributes:{onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:i,onDoubleClick:i,onClick:i},focusType:"external",dispatch:a})},t}(d.a.Component);y.propTypes={commentThread:d.a.PropTypes.object,commentMarkerIndex:d.a.PropTypes.number,commentContainer:d.a.PropTypes.object,addEventListener:d.a.PropTypes.func,removeEventListener:d.a.PropTypes.func,getMarkerPosition:d.a.PropTypes.func,isEditable:d.a.PropTypes.bool,dispatch:d.a.PropTypes.func};var b=20},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(25),u=n(136),l=n.n(u),p=n(37),d=n.n(p),f=n(254),m=n(123);n.d(t,"a",function(){return h});var h=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n)),i=a.props.dispatch;return a.renderContentEmpty=a.renderContentEmpty.bind(a),a.tickUpdate=function(){i({type:"container:screen:set:bottom-covered-height",payload:{bottomCoveredHeight:a.panelRef?a.panelRef.offsetHeight:0}}),setTimeout(function(){return a.replyTextareaRef&&a.replyTextareaRef.focus()},500)},a.doRedirectAuth=function(){window.location.href="/signin?next="+window.location.pathname},a.doReply=function(e){a.replyTextareaRef&&a.replyTextareaRef.onEditFinish(e)},a.doCreateThread=function(e){e&&(i({type:"entry:comment:thread:create",payload:{top:0,left:0,message:e}}),a.threadEntryRef&&a.threadEntryRef.doScrollToBottom())},a.doCreateComment=function(e){if(e){var t=a.props,n=t.commentContainer,r=t.commentSession,o=r.commentThreadMap[n.select];o&&(i({type:"service:comment:comment:create",payload:{thread_cid:o.cid,message:e}}),a.threadDetailRef&&a.threadDetailRef.doScrollToBottom(),s.a.MB.mp("回复了评论"))}},a.cancelSelect=function(){i({type:"container:comment:select",payload:{select:null}})},a.toggleMinifyUI=function(){var e=a.props.commentContainer;i({type:"container:comment:set:is-minified",payload:{isMinified:!e.isMinified}})},a.replyTextareaRef=null,a.threadEntryRef=null,a.threadDetailRef=null,a.panelRef=null,a}return a(t,e),t.prototype.componentDidMount=function(){this.tickUpdate()},t.prototype.componentDidUpdate=function(){this.tickUpdate()},t.prototype.componentWillUnmount=function(){this.props.dispatch({type:"container:screen:set:bottom-covered-height",payload:{bottomCoveredHeight:0}})},t.prototype.getUserStatus=function(){var e=this.props,t=e.userSession,n=e.inspectSession;return t.id?"guest"===n.collaborator.userRole?"not_collaborator":"collaborator":"not_signin"},t.prototype.renderContentEmpty=function(){var e=this.props,t=e.commentContainer,n=e.commentSession,r=t.select&&n.commentThreadMap[t.select],o="not_signin"===this.getUserStatus()?s.a.I18N.preview.comment.thread_none_tip_signin:r?s.a.I18N.preview.comment.reply_none_tip:s.a.I18N.preview.comment.thread_none_tip;return c.a.createElement("div",{"data-css":"list"},c.a.createElement("div",{className:l.a.preview_panel_empty},c.a.createElement("i",{className:"fa fa-comments-o"}),c.a.createElement("span",null,o)))},t.prototype.renderContentList=function(e){var t=this,n=this.props,r=n.commentContainer,o=n.commentSession,a=n.dispatch;return e?c.a.createElement(f.a,{key:e.cid,ref:function(e){t.threadDetailRef=e},commentContainer:r,commentSession:o,renderEmptyComponent:this.renderContentEmpty,dispatch:a}):c.a.createElement(f.b,{ref:function(e){t.threadEntryRef=e},commentContainer:r,commentSession:o,renderEmptyComponent:this.renderContentEmpty,dispatch:a})},t.prototype.renderContentReply=function(e,t){var n=this,r=this.getUserStatus();return c.a.createElement("div",{"data-css":"reply"},"collaborator"===r&&c.a.createElement(m.a.ReplyTextarea,{ref:function(e){n.replyTextareaRef=e},onValueChange:e?this.doCreateComment:this.doCreateThread,placeholder:s.a.I18N.preview.comment.comment_placeholder,isMultiLine:!0,isAutoHeight:!0,isEditLocked:!1}),"not_signin"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doRedirectAuth},c.a.createElement("i",{className:"fa fa-sign-in"}),s.a.I18N.web_signin),"not_collaborator"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doRedirectAuth},c.a.createElement("i",{className:"fa fa-sign-in"}),s.a.I18N.web_signin),"collaborator"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doReply},e?t===-1?s.a.I18N.preview.comment.comment_create_initial:s.a.I18N.preview.comment.comment_create:s.a.I18N.preview.comment.thread_create))},t.prototype.renderMinified=function(){var e=this.props.commentSession.commentThreadList;return c.a.createElement("div",{className:[l.a.preview_panel,l.a.preview_panel_popup,l.a.preview_panel_popup_minified,d.a.comment_panel].join(" ")},c.a.createElement("div",{className:[l.a.preview_panel_upper,l.a.preview_panel_upper_minified].join(" "),type:"toolbar",onClick:this.toggleMinifyUI},c.a.createElement("p",null,e.length?e.length+s.a.I18N.preview.comment.panel:s.a.I18N.preview.comment.thread_none),c.a.createElement("button",{type:"button-right"},c.a.createElement("i",{className:"fa fa-chevron-up"}))))},t.prototype.renderFull=function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,o=r.commentThreadList,a=r.commentThreadMap,i=r.commentListMap,u=n.select,p=u&&a[u],f=i[u]?i[u].length-1:-1;return c.a.createElement("div",{ref:function(t){e.panelRef=t},className:[l.a.preview_panel,l.a.preview_panel_popup,d.a.comment_panel].join(" ")},c.a.createElement("div",{className:l.a.preview_panel_upper,type:"toolbar"},p?c.a.createElement("button",{type:"button-left",onClick:this.cancelSelect},c.a.createElement("i",{className:"fa fa-chevron-left"})):c.a.createElement("div",{type:"button-left"}),c.a.createElement("p",null,!p&&o.length?o.length+s.a.I18N.preview.comment.panel:p?f>0?f+s.a.I18N.preview.comment.reply:0===f?s.a.I18N.preview.comment.reply_none:s.a.I18N.preview.comment.comment_create_initial_title:s.a.I18N.preview.comment.thread_none),c.a.createElement("button",{type:"button-right",onClick:this.toggleMinifyUI},c.a.createElement("i",{className:"fa fa-minus"}))),c.a.createElement("div",{className:l.a.preview_panel_content},c.a.createElement("div",{className:[d.a.comment_thread,d.a.comment_thread_flex].join(" ")},this.renderContentList(p),this.renderContentReply(p,f))))},t.prototype.render=function(){return this.props.commentContainer.isMinified?this.renderMinified():this.renderFull()},t}(c.a.Component);h.propTypes={commentSession:c.a.PropTypes.object,inspectSession:c.a.PropTypes.object,userSession:c.a.PropTypes.object,commentContainer:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return s.a.createElement("div",{"data-css":"divider",key:"divider"},s.a.createElement("div",null),s.a.createElement("span",null,u.a.I18N.preview.comment.divider_new),s.a.createElement("div",null))}var c=n(0),s=n.n(c),u=n(25),l=n(37),p=n.n(l),d=n(88),f=n(251);n.d(t,"a",function(){return v}),n.d(t,"b",function(){return h});var m=function(e){setTimeout(function(){e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)},100)},h=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n)),i=a.props.dispatch;return a.toggleSelect=function(e){var t=a.props.commentContainer,n=t.select===e.cid;i({type:"container:comment:select",payload:{select:n?null:e.cid}})},a.doDeleteThread=function(e){u.a.confirm(u.a.I18N.preview.comment.thread_delete_confirm)&&i({type:"service:comment:thread:delete",payload:{commentThread:e}})},a.doScrollToBottom=function(){return m(a.scrollRef)},a.scrollRef=null,a}return a(t,e),t.prototype.renderEntry=function(e,t,n,r,o,a){var i=this,c=n.length,l=c>0&&n[0],f=o.unreadCountThreadMap[e.cid],m=r===e.cid;return s.a.createElement("div",{key:t,className:p.a.comment_thread},s.a.createElement(d.b,{index:t,isFocus:m,isFade:Boolean(r),focusType:"normal",dispatch:a}),s.a.createElement("div",{className:[p.a.comment_comment,p.a.comment_comment_thread_initial,p.a.comment_comment_clickable,m?p.a.comment_comment_thread_initial_focus:""].join(" "),onClick:function(){return i.toggleSelect(e)}},l&&l.collaborator&&s.a.createElement("img",{type:"avatar",src:l.collaborator.avatar}),s.a.createElement("div",{className:p.a.comment_comment_upper,type:"toolbar"},l&&l.collaborator&&s.a.createElement("span",{type:"name","data-css":"spacer"},l.collaborator.name),l&&s.a.createElement("span",{type:"time"},u.a.L10N.parseTimeAgo(1e3*l.created_at))),l&&s.a.createElement("div",{className:p.a.comment_comment_content,type:"toolbar"},s.a.createElement("span",{type:"entry"},l.message)),s.a.createElement("div",{className:p.a.comment_comment_lower,type:"toolbar"},c<=1?s.a.createElement("span",{type:"reply-none"},u.a.I18N.preview.comment.reply_none):s.a.createElement("span",{type:"reply-count"},c-1+u.a.I18N.preview.comment.reply),f>0&&s.a.createElement("span",{type:"new"},f===c?u.a.I18N.preview.comment.reply_new_thread:f+u.a.I18N.preview.comment.reply_new),e.permission.delete&&s.a.createElement("span",{type:"dot"}),e.permission.delete&&s.a.createElement("span",{type:"modify",onClick:function(){return i.doDeleteThread(e)}},u.a.I18N.preview.comment.modify_delete))))},t.prototype.render=function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,o=t.renderEmptyComponent,a=t.dispatch,i=r.commentThreadList,c=r.commentListMap,u=r.tickData,l=n.focus||n.select;return i.length?s.a.createElement("div",{"data-css":"list",ref:function(t){e.scrollRef=t}},i.map(function(t,n){return e.renderEntry(t,n+1,c[t.cid]||[],l,u,a)})):o()},t}(s.a.Component);h.propTypes={commentSession:s.a.PropTypes.object,commentContainer:s.a.PropTypes.object,renderEmptyComponent:s.a.PropTypes.func,dispatch:s.a.PropTypes.func};var v=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));a.toggleShowAll=function(e){void 0===e&&(e=!a.state.isShowAll),a.setState({isShowAll:e})},a.doScrollToBottom=function(){return m(a.scrollRef)};var i=a.calcFoldDivider(),c=i.foldCount,s=i.newDividerIndex;return a.foldCount=c,a.newDividerIndex=s,a.scrollRef=null,a.state={isShowAll:!1},a}return a(t,e),t.prototype.componentDidMount=function(){this.tickReadComment()},t.prototype.componentDidUpdate=function(){this.tickReadComment()},t.prototype.getSelected=function(){var e=this.props,t=e.commentContainer,n=e.commentSession,r=n.commentThreadMap,o=n.commentListMap,a=n.tickData,i=r[t.select];return{tickData:a,commentList:o[t.select],commentThread:i}},t.prototype.calcFoldDivider=function(){for(var e=this.getSelected(),t=e.commentList,n=e.tickData,r=0,o=1/0,a=t.length-1;a>=0&&n.unreadCommentMap[t[a].cid];)o=a,a--;if(0===o&&(o=1),o>4)for(var i=1;i<=t.length-3&&!n.unreadCommentMap[t[i].cid];)r++,i++;return{newDividerIndex:o,foldCount:r}},t.prototype.tickReadComment=function(){var e=this.props.dispatch,t=this.getSelected(),n=t.commentList,r=t.tickData,o=!1;n.forEach(function(t){r.unreadCommentMap[t.cid]&&(e({type:"service:comment:read-comment",payload:{comment:t}}),o=!0)}),o||(this.newDividerIndex=1/0)},t.prototype.getCommentReducer=function(e,t){var n=this,r=this.state.isShowAll,o=1+this.foldCount-1,a=null;return function(c,l,p){return!r&&p>=1&&p<=o?p===o&&c.push(s.a.createElement("div",{"data-css":"expand",key:"expand"},s.a.createElement("button",{onClick:function(){return n.toggleShowAll(!0)}},u.a.I18N.preview.comment.show_all_0+n.foldCount+u.a.I18N.preview.comment.show_all_1))):(1===p&&c.push(s.a.createElement("div",{"data-css":"divider-line",key:"divider-line"})),p===n.newDividerIndex&&c.push(i()),c.push(s.a.createElement(f.a,{key:l.cid,commentMarkerIndex:e,comment:l,isThreadInitial:0===p,isUserInitial:0!==p&&a!==l.user_id&&(a=l.user_id,!0),tickData:t,dispatch:n.props.dispatch}))),c}},t.prototype.render=function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,o=t.renderEmptyComponent,a=r.commentThreadList,i=r.commentListMap,c=r.tickData,u=1+a.findIndex(function(e){return e.cid===n.select}),l=i[n.select];return l.length?s.a.createElement("div",{"data-css":"list",ref:function(t){e.scrollRef=t}},l.reduce(this.getCommentReducer(u,c),[])):o()},t}(s.a.Component);v.propTypes={commentSession:s.a.PropTypes.object,commentContainer:s.a.PropTypes.object,renderEmptyComponent:s.a.PropTypes.func,dispatch:s.a.PropTypes.func}},function(e,t,n){"use strict";var r=n(18),o=(n.n(r),n(256)),a=n(253),i=n(252),c={CommentPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,inspectSession:e.service.inspect,userSession:e.service.user,commentContainer:e.container.comment}})(a.a),CommentMarkerPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,commentContainer:e.container.comment}})(i.a)};t.a={reducers:o.a,containers:c}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={isMinified:!1,select:null,focus:null,from:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=t.type,a=t.payload;switch(n){case"container:comment:set:is-minified":return r({},e,{isMinified:a.isMinified,focus:null,select:null});case"container:comment:focus":return r({},e,{focus:a.focus});case"container:comment:select":return r({},e,{isMinified:!1,focus:a.select&&e.focus,select:a.select})}return e}},,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(25),u=n(136),l=n.n(u),p=n(307),d=n.n(p);n.d(t,"a",function(){return f});var f=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));a.doCloseUI=function(){a.props.dispatch({type:"entry:webpack-interface:view:call",payload:{name:"screen",method:"stop"}})},a.doExpandAll=function(){return a.itemRecursiveExpand(!0)},a.doCollapseAll=function(){return a.itemRecursiveExpand(!1)};var i=a.props.inspectSession.project.screenRootList;return a.isExpandable=!1,i.forEach(function(e){e.subScreens&&(a.isExpandable=!0)}),a.contentRef=null,a.itemRefs={},a}return a(t,e),t.prototype.componentDidMount=function(){$("#ui-screen-panel .screen-count").tooltip({container:"body",trigger:"hover focus click"})},t.prototype.componentDidUpdate=function(){this.contentRef&&(this.contentRef.style.borderBottomWidth=this.props.screenContainer.bottomCoveredHeight+"px")},t.prototype.itemRecursiveExpand=function(e){for(var t in this.itemRefs)this.itemRefs[t].doRecursiveExpand(e)},t.prototype.isItemExpanded=function(){for(var e in this.itemRefs)if(this.itemRefs[e].isExpand)return!0;return!1},t.prototype.renderRootScreens=function(){var e=this,t=this.props,n=t.inspectSession,r=t.commentSession,o=t.dispatch;return n.project.screenRootList.map(function(t){return c.a.createElement(m,{key:t.cid,ref:function(n){return e.itemRefs[t.cid]=n},screen:t,level:0,inspectSession:n,commentSession:r,dispatch:o})})},t.prototype.render=function(){var e=this,t=this.isExpandable&&this.isItemExpanded(),n=this.props.inspectSession.project.screenList;return c.a.createElement("div",{className:[l.a.preview_panel,l.a.preview_panel_active].join(" ")},c.a.createElement("div",{className:l.a.preview_panel_upper,type:"toolbar"},c.a.createElement("button",{type:"button-left",className:this.isExpandable?"":l.a.invisible,onClick:t?this.doCollapseAll:this.doExpandAll},c.a.createElement("i",{className:t?"fa fa-compress":"fa fa-expand"})),c.a.createElement("p",null,s.a.I18N.preview.screen.panel,c.a.createElement("span",{className:"screen-count "+l.a.screen_count,title:s.a.I18N.preview.screen.total_page,"data-toggle":"tooltip","data-placement":"bottom"},"(",n.length>1e3?"1000+":n.length,")")),c.a.createElement("button",{type:"button-right",onClick:this.doCloseUI},c.a.createElement("i",{className:"fa fa-times"}))),c.a.createElement("div",{ref:function(t){e.contentRef=t},className:[l.a.preview_panel_content,d.a.screen_panel_content,d.a.tree_link].join(" ")},this.renderRootScreens()))},t}(c.a.Component);f.propTypes={commentSession:c.a.PropTypes.object,inspectSession:c.a.PropTypes.object,screenContainer:c.a.PropTypes.object,dispatch:c.a.PropTypes.func};var m=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.doSwitchComment=function(){a.doSelect(),a.props.dispatch({type:"entry:webpack-interface:view:call",payload:{name:"comment",method:"start"}}),a.props.dispatch({type:"container:comment:set:is-minified",payload:{isMinified:!1}})},a.doSelect=function(){var e=a.props,t=e.screen;!(e.inspectSession.screen.data.cid===t.cid)&&a.props.dispatch({type:"entry:inspect:screen",payload:{screen:t}})},a.doToggleExpand=function(e){var t=a.props,n=t.screen,r=t.dispatch;n.subScreens&&(void 0===e&&(e=!a.isExpand),a.isExpand=e,r({type:"container:screen:expand"}))},a.doRecursiveExpand=function(e){a.doToggleExpand(e);for(var t in a.itemRefs)a.itemRefs[t].doRecursiveExpand(e)},a.toggleExpand=function(e){e.stopPropagation(),a.doToggleExpand()},a.itemRefs={},a.isExpand=Boolean(n.screen.subScreens),a}return a(t,e),t.prototype.renderSubLevel=function(){var e=this,n=this.props,r=n.screen,o=n.level,a=n.inspectSession,i=n.commentSession,s=n.dispatch,u=0===o;return r.subScreens&&c.a.createElement("div",{"data-css":"group",className:[u?d.a.screen_item_root_tree_link:"",this.isExpand?"":d.a.screen_item_hide].join(" ")},r.subScreens.map(function(n){return c.a.createElement(t,{key:n.cid,ref:function(t){return e.itemRefs[n.cid]=t},screen:n,level:o+1,inspectSession:a,commentSession:i,dispatch:s})}))},t.prototype.render=function(){var e=this.props,t=e.screen,n=e.level,r=e.inspectSession,o=e.commentSession,a=r.screen.data.cid===t.cid,i=0===n,s=o.screenThreadCountMap,u=o.tickData,l=s&&s[t.cid]||0;u&&u.unreadCountScreenMap&&u.unreadCountScreenMap[t.cid];return c.a.createElement("div",{"data-css":i?"root":"item"},c.a.createElement("div",{className:[d.a.screen_item,a?d.a.screen_item_select:"",i?d.a.screen_item_root:d.a.screen_item_sub].join(" "),onClick:a?t.subScreens?this.toggleExpand:null:this.doSelect},t.subScreens?c.a.createElement("i",{className:this.isExpand?"fa fa-chevron-down":"fa fa-chevron-right",onClick:this.toggleExpand}):c.a.createElement("i",{className:"fa fa-circle-o","data-css":"leaf"}),c.a.createElement("span",null,t.displayName),c.a.createElement("div",{"data-css":"spacer"}),l>0&&c.a.createElement("b",{onClick:this.doSwitchComment},l,c.a.createElement("div",null))),this.renderSubLevel())},t}(c.a.Component);m.propTypes={screen:c.a.PropTypes.object,level:c.a.PropTypes.number,inspectSession:c.a.PropTypes.object,commentSession:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";var r=n(18),o=(n.n(r),n(265)),a=n(263),i={ScreenPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,inspectSession:e.service.inspect,screenContainer:e.container.screen}})(a.a)};t.a={reducers:o.a,containers:i}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={expandCount:0,bottomCoveredHeight:0};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=t.type,a=t.payload;switch(n){case"container:screen:expand":return r({},e,{expandCount:e.expandCount++});case"container:screen:set:bottom-covered-height":return r({},e,{bottomCoveredHeight:a.bottomCoveredHeight})}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=window,a=o.$,i=function(){return(new Date).getTime()},c=function(){function e(){r(this,e),this.mouseState={down:!1,moved:!1},this.scrollState={x:null,y:null,left:null,top:null,target:null},this.windowState={blur:!1},this.coolDownTime=i(),this.coolDownInterval=200}return e.prototype.isCoolDown=function(){var e=i()-this.coolDownTime;return this.coolDownTime+=e,e>this.coolDownInterval},e.prototype.resetCoolDown=function(){this.coolDownTime-=this.coolDownInterval},e.prototype.bind=function(e){var t=this,n=e.onScreenFocus;window.addEventListener("blur",function(){t.windowState.blur=!0}),window.addEventListener("focus",function(){t.windowState.blur&&(t.windowState.blur=!1,n())})},e.prototype.bindMobile=function(e){var t=this,n=e.onOrientationChange;window.addEventListener(void 0!==window.onorientationchange?"orientationchange":"resize",n),a("body").on("touchstart",".pcanvas",function(){t.mouseState.down=!0,t.mouseState.moved=!1}).on("touchmove",".pcanvas",function(){t.mouseState.down&&(t.mouseState.moved=!0)}).on("touchend",function(){t.mouseState.down=!1})},e.prototype.bindDesktop=function(e){var t=this,n=e.onAppMouseDown,r=e.onAppMouseMove;a("body").on("mousedown","#simulator-container",function(e){if(n(e,t.scrollState,t.mouseState))return!0;t.mouseState.down=!0,t.mouseState.moved=!1,t.scrollState.x=e.clientX,t.scrollState.y=e.clientY}).on("mousemove","#simulator-container",function(e){if(r(e,t.scrollState,t.mouseState))return!0;t.mouseState.moved=!0}),window.addEventListener("mouseup",function(){t.mouseState.down=!1})},e}();t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=window,a=o.MB,i=o.$,c=o.Screen,s=function(){function e(){r(this,e)}return e.prototype.setObjectUrl=function(e,t){e&&(e.contentWindow?e.contentWindow.location.replace(t):e.setAttribute("data",t))},e.prototype.deviceOrient=function(){return i(window).width()>i(window).height()?"landscape":"portrait"},e.prototype.cloneFixed=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.show().clone();return o.attr("id",o.attr("id")+"gh"),t.v&&o.css("opacity",t.o/100),o.css("top",t.t()),o.hasClass("clickable")&&o.css("pointer-events","auto"),n.hide(),r?(t.isBottomFixed(e)&&(a.isIOS9()&&this.deviceOrient()===e.orient()?o.css("top",i("#simulator").height()-(e.h()-t.t())+a.COMPONENTS.status_bar.height):o.css("top",i("#simulator").height()-(e.h()-t.t()))),o):o},e.prototype.setScreenBg=function(e){var t=c.find(e.data("cid"));if(t){var n="transparent"===t.bgcolor?"#f0f0f2":t.bgcolor;e.css({"background-color":n,"background-image":t.bgimage?"url("+t.getRealBgImage()+")":""})}},e.prototype.screenPreview=function(e){return'\n      <div id="pscreen'+e.cid+'" class="pcanvas '+e.orient()+'" data-cid="'+e.cid+'" data-orientation="'+e.orient()+'">\n      <div class="widgets">\n        <div class="scontainer">\n          <div class="sheader"></div>\n          <div class="sfooter"></div>\n        </div>\n      </div>\n      <div class="stickies"></div>\n    </div>\n    '},e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this;r(this,e),this.elementFrom=null,this.elementTo=null,this._delayedSync=null,this.delaySync=function(){t._delayedSync&&clearTimeout(t._delayedSync),t._delayedSync=setTimeout(function(){return t.sync()},100),t.sync()}}return e.prototype.init=function(e,t){this.elementFrom=e,this.elementTo=t,this.sync()},e.prototype.sync=function(){var e=this.elementFrom.scrollTop;this.elementTo.style.marginTop=0-e+"px"},e.prototype.reverseSync=function(){var e=0-parseInt(this.elementTo.style.marginTop);this.elementFrom.scrollTop=e},e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){r(this,e),this.timeoutMap=new Map}return e.prototype.setTimeout=function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var r=this,o=setTimeout(function(){t(),r.clearTimeout(e,t)},n);return this.setToken(e,t,o),o}),e.prototype.clearTimeout=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this.getToken(e,t);void 0!==n&&(clearTimeout(n),this.clearToken(e,t))}),e.prototype.clearTimeoutByKey=function(e){var t=this,n=this.timeoutMap.get(e);void 0!==n&&(n.forEach(function(n,r){return t.clearTimeout(e,r)}),this.timeoutMap.delete(e))},e.prototype.clear=function(){var e=this;this.timeoutMap.forEach(function(t,n){return e.clearTimeoutByKey(n)})},e.prototype.setToken=function(e,t,n){var r=this.timeoutMap.get(e);void 0===r&&(r=new Map,this.timeoutMap.set(e,r)),r.set(t,n)},e.prototype.getToken=function(e,t){var n=this.timeoutMap.get(e);if(n)return n.get(t)},e.prototype.clearToken=function(e,t){var n=this.timeoutMap.get(e);n&&n.delete(t)},e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){r(this,e),this.toggleMap=new Map,this.afterChange=t||null}return e.prototype.addToggle=function(e,t,n){this.toggleMap.set(e,{name:e,value:t,onChange:n})},e.prototype.toggle=function(e,t){var n=this.toggleMap.get(e);n&&n.value!==t&&(void 0===t&&(t=!n.value),this.checkToggle(e,t))},e.prototype.checkToggle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.toggleMap.get(e);r&&r.value!==t&&(void 0===t&&(t=!r.value),r.value=t,r.onChange&&r.onChange(t),n||this.afterChange&&this.afterChange(this.getStatus()))},e.prototype.getStatus=function(){var e={};return this.toggleMap.forEach(function(t){e[t.name]=t.value}),e},e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=window,a=o.MB,i=o.$,c=function(){function e(){r(this,e)}return e.prototype.activeWidth=function(){return"portrait"===a.currentScreen.orientation?Math.round(a.project().width*a.scale()/100):Math.round(a.project().height*a.scale()/100)},e.prototype.activeHeight=function(){return"portrait"===a.currentScreen.orientation?Math.round(a.project().height*a.scale()/100):Math.round(a.project().width*a.scale()/100)},e.prototype.hideScreen=function(e){i(e).hide(),i(e).find(".iframe").each(function(e,t){a.runner.runnerUtil.setObjectUrl(t,"about:blank")})},e.prototype.doTransition=function(e,t,n,r){var o=this;n.enableTransition(r.delay()),t.enableTransition(r.delay()),r.template&&e.indexOf("menu")!==-1&&(e="none"),i.nextTick(function(){o[e](t,n,r)})},e.prototype.none=function(e,t,n){t.addClass("active"),e.removeClass("active top"),this.hideScreen(e),a.runner.doneTransition(t)},e.prototype.slideIn=function(e,t,n,r,o,i){var c=this;e.transitionEnd(function(){e.removeClass("active"),t.addClass("active top"),c.hideScreen(e),a.runner.doneTransition(t)}),e[n](r),t[n](o)},e.prototype.slidebottom=function(e,t,n){this.slideIn(e,t,"translateY",0-this.activeHeight(),0,n)},e.prototype.slideleft=function(e,t,n){this.slideIn(e,t,"translateX",0-this.activeWidth(),0,n)},e.prototype.slidetop=function(e,t,n){this.slideIn(e,t,"translateY",this.activeHeight(),0,n)},e.prototype.slideright=function(e,t,n){this.slideIn(e,t,"translateX",this.activeWidth(),0,n)},e.prototype.slideMenu=function(e,t,n,r,o){t.zindex("2"),e.css("z-index","101"),e.transitionEnd(function(){a.runner.doneTransition(t)}),e[n](r)},e.prototype.leftmenu=function(e,t,n){this.slideMenu(e,t,"translateX",this.activeWidth()*n.menu_offset/100,n)},e.prototype.rightmenu=function(e,t,n){this.slideMenu(e,t,"translateX",0-this.activeWidth()*n.menu_offset/100,n)},e.prototype.fixedIn=function(e,t,n,r,o){var i=this;t.addClass("top"),t.css("z-index","101"),t.transitionEnd(function(){0===r&&(e.removeClass("active"),t.addClass("active"),i.hideScreen(e)),a.runner.doneTransition(t),0!==r&&t.css("z-index","101")}),t[n](r)},e.prototype.topin=function(e,t,n){this.fixedIn(e,t,"translateY",0,n)},e.prototype.popin=function(e,t,n){this.fixedIn(e,t,"translateY",0,n)},e.prototype.slideleft2=function(e,t,n){this.fixedIn(e,t,"translateX",0,n)},e.prototype.slideright2=function(e,t,n){this.fixedIn(e,t,"translateX",0,n)},e.prototype.leftdrawer=function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(n.menu_offset-100)/100,n)},e.prototype.rightdrawer=function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(100-n.menu_offset)/100,n)},e.prototype.fixedOut=function(e,t,n,r,o){var i=this;t.zindex("2"),e.transitionEnd(function(){e.removeClass("active"),t.addClass("active"),i.hideScreen(e),a.runner.doneTransition(t)}),e[n](r)},e.prototype.leftout=function(e,t,n){this.fixedOut(e,t,"translateX",0-this.activeWidth(),n)},e.prototype.rightout=function(e,t,n){this.fixedOut(e,t,"translateX",this.activeWidth(),n)},e.prototype.topout=function(e,t,n){this.fixedOut(e,t,"translateY",0-this.activeHeight(),n)},e.prototype.popout=function(e,t,n){this.fixedOut(e,t,"translateY",this.activeHeight(),n)},e.prototype.transitionHandler=function(e,t,n,r,o){switch("leftmenu"===e&&t.addClass("menu lmenu"),"rightmenu"===e&&t.addClass("menu rmenu"),"leftdrawer"===e&&n.addClass("drawer ldrawer"),"rightdrawer"===e&&n.addClass("drawer rdrawer"),e){case"popin":case"slidebottom":n.translate(0,o);break;case"topin":case"slidetop":n.translate(0,0-o);break;case"popout":case"none":case"leftout":case"rightout":case"topout":case"leftmenu":case"rightmenu":n.translate(0,0);break;case"slideright":case"slideleft2":case"leftdrawer":n.translate(0-r,0);break;case"slideleft":case"slideright2":case"rightdrawer":n.translate(r,0)}},e}();t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r,o){return"up"===e&&n.scrollTop>0?Math.max(t,0-n.scrollTop):"down"===e&&n.scrollTop<o.height-r.height?Math.min(t,o.bottom-r.bottom):0}var a=window,i=a.MB,c=a.$,s=a.I18N,u=function(){function e(){r(this,e),this.webpackInterface=null}return e.prototype.clear=function(){this.safeCall("webpackInterface","previewClear")},e.prototype.initWebpackInterface=function(e){i.webpackInterface&&(this.webpackInterface=i.webpackInterface,this.webpackInterface.applyObserverMap(e),this.safeCall("webpackInterface","previewInit"),this.safeCall("webpackInterface","checkHash",window.location,window.history))},e.prototype.safeCall=function(e,t){try{for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];this[e]&&this[e][t]&&(n=this[e])[t].apply(n,o)}catch(n){i.ga&&i.ga("send","event","webpack","warning","["+e+"-"+t+"]"+n.message+" "+n.stack+"("+i.user.email+")")}},e.prototype.getPreviewObserverMap=function(e){var t=this,n=function(){return c("div#ui-comment-tip").removeClass("hide")},r=function(){return c("div#ui-comment-tip").addClass("hide")},a=function(e){var t=e.pageX,n=e.pageY;return c("div#ui-comment-tip").css({left:t+24,top:n})};return{"view:comment:start":function(){c("#simulator-container").addClass("comment-mode").on("mouseenter",n).on("mouseleave",r).on("mousemove",a),c("div#ui-comment-range").removeClass("hide"),c("#ui-comment-panel, a#switch-comment").addClass("active"),c("#switch-comment-switch").addClass("checked"),c("div#ui-comment-tip span").html(i.user.id?"guest"===t.safeCall("webpackInterface","getUserRole")?s.preview.comment.tip_not_collaborator:s.preview.comment.tip:s.preview.comment.tip_signin),e.toggleBoard.toggle("Comment",!0)},"view:comment:stop":function(){c("#simulator-container").removeClass("comment-mode").off("mouseenter",n).off("mouseleave",r).off("mousemove",a),c("div#ui-comment-tip div#ui-comment-range").addClass("hide"),c("#ui-comment-panel, a#switch-comment").removeClass("active"),c("#switch-comment-switch").removeClass("checked"),e.toggleBoard.toggle("Comment",!1)},"view:screen:start":function(){c("#ui-screen-panel, a#switch-screen").addClass("active"),e.toggleBoard.toggle("Screen",!0)},"view:screen:stop":function(){c("#ui-screen-panel, a#switch-screen").removeClass("active"),e.toggleBoard.toggle("Screen",!1)},"focus-method:request-focus":function(e,t){var n=document.getElementById("simulator-container"),r=t.getBoundingClientRect(),a=n.getBoundingClientRect();if(!(r.top>a.top&&r.bottom<a.bottom)){var i=r.top+.5*r.height-(a.top+.5*a.height),s=i<0?"up":"down",u=document.getElementById("simulator-wrapper"),l=o(s,i,n,a,u.getBoundingClientRect());if(n.scrollTop+=l,0!==(i-=l)){var p=c(".pcanvas.active .widgets")[0],d=c(".pcanvas.active .widgets .scontainer")[0];l=o(s,i,p,p.getBoundingClientRect(),d.getBoundingClientRect()),p.scrollTop+=l}}}}},e}();t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){r(this,e),this.isInit=!1,this.store=null,this.viewMap={},this.observerMap={}}return e.prototype.setStore=function(e){this.store=e},e.prototype.callObserver=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.observerMap[e]&&(t=this.observerMap)[e].apply(t,[e].concat(r))},e.prototype.setObserver=function(e,t){this.observerMap[e]=t},e.prototype.applyObserverMap=function(e){for(var t in e)this.setObserver(t,e[t])},e.prototype.setView=function(e,t){this.viewMap[e]=t},e.prototype.callViewMethod=function(e,t){for(var n,r=this.viewMap[e],o=arguments.length,a=Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];return r&&r[t]?(this.callObserver("view:"+e+":"+t),r[t].apply(r,[this.store].concat(a))):(n=console).warn.apply(n,["[WebpackInvasion][callViewMethod] missed",e,t].concat(a))},e.prototype.callAllViewMethod=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o in this.viewMap)this.callViewMethod.apply(this,[o,e].concat(n))},e.prototype.init=function(){this.isInit||(this.isInit=!0,this.callObserver("init"),this.store&&this.store.dispatch({type:"entry:service:init"}))},e.prototype.clear=function(){this.isInit&&(this.store&&this.store.dispatch({type:"entry:service:clear"}),this.callObserver("clear"),this.isInit=!1)},e}();t.a=o},function(e,t,n){"use strict";function r(e){var t={serviceList:[],containerReducerMap:{},viewMap:{},extendCallback:null};return e.forEach(function(e){t.serviceList=o(a,t.serviceList,e.serviceList),t.containerReducerMap=o(i,t.containerReducerMap,e.containerReducerMap),t.viewMap=o(i,t.viewMap,e.viewMap),t.extendCallback=o(c,t.extendCallback,e.extendCallback)}),t}function o(e,t,n){return n?t?e(t,n):n:t}function a(e,t){function n(e){r[e]||(r[e]=!0,o.push(e))}var r={},o=[];return e.forEach(n),t.forEach(n),o}function i(e,t){function n(e,t){r[e]=t}var r={};for(var o in e)n(o,e[o]);for(var a in t)n(a,t[a]);return r}function c(e,t){return function(){return e.apply(void 0,arguments),t.apply(void 0,arguments)}}t.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={tree_link:"_1IRknDHYCRToPXWcnD6wmE",screen_panel_content:"_2p_ZSR5yfwkho8UKAEBx9q",screen_item:"_2bMosNSxRhx7oBKqLXgugX",screen_item_root:"_1MYM-KR8I6Gm9nqMDG4DxC",screen_item_root_tree_link:"_3b2ZQwr6LNgzg0CUPn4Wmt",screen_item_sub:"XNvFvbokgs7IKFmfPvjbK",screen_item_hide:"_2aXaukaXI6dJS1inYI9jwv",screen_item_select:"BVuD3rr1uWuTeFA7959JA"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n(236),a=n(211),i=n(0),c=n.n(i),s=n(12),u=n.n(s),l=n(237);try{if(r.a.MB.webpackInterface)throw new Error("[ExportWebpackInterface] already inited MB.webpackInterface");r.a.MB.webpackInterface=n.i(r.b)(o.a),r.a.MB.setRunnerExtra=a.a}catch(e){console.warn("[UI:Preview] Failed to init:",e.stack||e)}window.MB.renderSharing=function(e){u.a.render(c.a.createElement(l.a,{app:e}),document.getElementById("sharing-modal"))}}],[471]);